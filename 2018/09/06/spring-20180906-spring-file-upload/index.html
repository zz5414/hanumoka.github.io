<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://www.hanumoka.net').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

<!-- 구글 애드센스 코드  -->
<script data-ad-client="ca-pub-6388187282606796" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6388187282606796",
          enable_page_level_ads: true
     });
</script>
-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100596920-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-100596920-1');
</script>
 
<!-- 네이버 웹 마스터-->
<meta name="naver-site-verification" content="74bc91ee61c53c02f7d87ab3a442f99823f4f5f9">
  <meta name="description" content="들어가기이번에는 Spring에서 File Upload를 개발할때 필요한 라이브러리, 개념, 특정 기술들을 정리하겠다.업로드할 파일은 이미지 파일과 일반파일로 나뉘며, 저용량 파일업로드를 기준한다.완전한 실습이 아니라 요약정리임을 미리 알린다.(DB없이 실제 파일의 업로드만…)  필요한 라이브러리pom.xml 파일에 아래 라이브러리를 추가한다. 1234567">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring - File Upload 개발요약정리">
<meta property="og:url" content="https://www.hanumoka.net/2018/09/06/spring-20180906-spring-file-upload/index.html">
<meta property="og:site_name" content="Hanumoka, IT Blog">
<meta property="og:description" content="들어가기이번에는 Spring에서 File Upload를 개발할때 필요한 라이브러리, 개념, 특정 기술들을 정리하겠다.업로드할 파일은 이미지 파일과 일반파일로 나뉘며, 저용량 파일업로드를 기준한다.완전한 실습이 아니라 요약정리임을 미리 알린다.(DB없이 실제 파일의 업로드만…)  필요한 라이브러리pom.xml 파일에 아래 라이브러리를 추가한다. 1234567">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://www.hanumoka.net/images/20180906-spring-file-upload_1.png">
<meta property="article:published_time" content="2018-09-06T13:43:10.000Z">
<meta property="article:modified_time" content="2020-04-15T16:50:12.025Z">
<meta property="article:author" content="Hanumoka">
<meta property="article:tag" content="spring">
<meta property="article:tag" content="File upload">
<meta property="article:tag" content="파일업로드">
<meta property="article:tag" content="스프링">
<meta property="article:tag" content="썸네일">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.hanumoka.net/images/20180906-spring-file-upload_1.png">

<link rel="canonical" href="https://www.hanumoka.net/2018/09/06/spring-20180906-spring-file-upload/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Spring - File Upload 개발요약정리 | Hanumoka, IT Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hanumoka, IT Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hanumoka, IT Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">그래봐야 코딩, 그래도 코딩</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>홈</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>태그</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>카테고리</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>아카이브</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-fw fa-calendar"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>Sitemap</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/atom.xml" rel="section"><i class="fa fa-fw fa-rss"></i>rss</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>Commonweal 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>검색
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/hanumoka" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow noopener noreferrer" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/09/06/spring-20180906-spring-file-upload/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Spring - File Upload 개발요약정리
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-09-06 22:43:10" itemprop="dateCreated datePublished" datetime="2018-09-06T22:43:10+09:00">2018-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:12" itemprop="dateModified" datetime="2020-04-16T01:50:12+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h3><p>이번에는 Spring에서 File Upload를 개발할때 필요한 라이브러리, 개념, 특정 기술들을 정리하겠다.<br>업로드할 파일은 이미지 파일과 일반파일로 나뉘며, 저용량 파일업로드를 기준한다.<br>완전한 실습이 아니라 요약정리임을 미리 알린다.(DB없이 실제 파일의 업로드만…)</p>
<hr>
<h3 id="필요한-라이브러리"><a href="#필요한-라이브러리" class="headerlink" title="필요한 라이브러리"></a>필요한 라이브러리</h3><p>pom.xml 파일에 아래 라이브러리를 추가한다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 파일업로드 관련 : 이미지 썸네일 생성 라이브러리--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.imgscalr<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>imgscalr-lib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">&lt;!-- 파일업로드 관련--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="스프링-mulipartResolver-선언"><a href="#스프링-mulipartResolver-선언" class="headerlink" title="스프링 mulipartResolver 선언"></a>스프링 mulipartResolver 선언</h3><p>화면단에서 mutipart/form-date방식으로 서버에 전송되는 데이터를 스프링 MVC의 mulipartResolver로 처리할수 있다.</p>
<p>servlet-context.xml 파일에 아래와 내용을 추가하자</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 파일 업로드로 들어오는 데이터를 처리하는 객체 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans:bean</span> <span class="attr">id</span>=<span class="string">"multipartResolver"</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">beans:property</span> <span class="attr">name</span>=<span class="string">"maxUploadSize"</span> <span class="attr">value</span>=<span class="string">"10485760"</span> /&gt;</span> <span class="comment">&lt;!-- 10mb 제한 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans:bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="업로드할-파일위치-지정하기"><a href="#업로드할-파일위치-지정하기" class="headerlink" title="업로드할 파일위치 지정하기"></a>업로드할 파일위치 지정하기</h3><p>업로드할 파일의 위치를 지정해야 한다.</p>
<p>servlet-context.xml 파일을 열어서 아래 내용을 추가하자.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 업로드된 파일의 저장 위치 지정 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans:bean</span> <span class="attr">id</span>=<span class="string">"uploadPath"</span> <span class="attr">class</span>=<span class="string">"java.lang.String"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">beans:constructor-arg</span> <span class="attr">value</span>=<span class="string">"D:\\SpringUploadRepo\\upload"</span>&gt;</span><span class="tag">&lt;/<span class="name">beans:constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans:bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>maxUploadSize 프로퍼티를 통해 업로드할 파일의 용량을 제한할수 있다.</p>
<hr>
<h3 id="web-xml-파일의-한글파일-인코딩-처리"><a href="#web-xml-파일의-한글파일-인코딩-처리" class="headerlink" title="web.xml 파일의 한글파일 인코딩 처리"></a>web.xml 파일의 한글파일 인코딩 처리</h3><p>한글파일이 업로드될때 파일명이 깨지는 것을 해결하기 위해 web.xml 파일에 아래 내용을 추가하자.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Ensure UTF-8 character encoding is used --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="서버에-파일을-저장할때-고려해야-할-사항들"><a href="#서버에-파일을-저장할때-고려해야-할-사항들" class="headerlink" title="서버에 파일을 저장할때 고려해야 할 사항들"></a>서버에 파일을 저장할때 고려해야 할 사항들</h3><p><strong>1.파일업로드 방식 결정하기.</strong></p>
<p>Post 방식으로 전송할지 아니면 ajax방식으로 전송할지 결정해야 한다.<br>아마 요즘은 주로 ajax방식을 사용하는것 같다.</p>
<p><strong>2.파일이름 중복문제.</strong></p>
<p>DB에 파일을 저장할수도 있지만, 일반적으로 파일시스템에 파일을 저장하게된다.<br>따라서 업로드 되는 파일의 이름의 중복을 해결할 방법이 필요하다. -&gt; UUID로 해결가능</p>
<p><strong>3.파일 저장경로에 대한문제.</strong></p>
<p>Windows나 Linux등 운영체제에서 폴더내의 파일 개수가 너무 많아지게 되면, 속도저하 문제가 발생하게 된다.<br>특히 Windows의 파일 시스템의 경우 폴더내 최대 파일 개수의 제한이 있다.(100만단위가 넘어가긴 하지만…)<br>위 문제를 해결하기 위해서 보통 파일이 업로드 되는 시점별로 폴더를 관리한다.</p>
<p>예를 들어 2018년 9월 6일 파일이 업로드 되면, 그 파일은 특정 폴더의 경로의 /2018/09/06/ 경로에 저장하면 위 문제를 해결 할수있다.<br>즉 업로드 할때 파일을 저장할 폴더의 유무에 따라 폴더 생성로직이 필요하다.</p>
<p><strong>4.이미지파일의 경우 썸네일(thumbnail) 생성.</strong></p>
<p>이미지파일인 경우 저장된 파일을 다시 화면에 보여줄때, 보통 그 이미지파일의 썸네일파일을 보여주게된다.<br>따라서 이미지파일이 서버에 저장될때는 추가적으로 그 이미지파일의 썸네일파일을 생성해 주어야 한다.<br>앞서 위에 추가한 라이브러리중 imgscalr-lib가 이미지의 썸네일 생성을 해준다.</p>
<hr>
<h3 id="서버에-파일을-저장할-유틸리티-클래스-생성"><a href="#서버에-파일을-저장할-유틸리티-클래스-생성" class="headerlink" title="서버에 파일을 저장할 유틸리티 클래스 생성"></a>서버에 파일을 저장할 유틸리티 클래스 생성</h3><p><strong>MediaUtils.java</strong> 생성</p>
<p>이 유틸리티 파일은 이미지파일을 걸러주는 유틸리티 파일이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanumoka.sample.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;</span><br><span class="line"></span><br><span class="line"><span class="comment">//업로드한 파일중 이미지 파일만 거르는 클래스</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MediaUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, MediaType&gt; mediaMap;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		mediaMap = <span class="keyword">new</span> HashMap&lt;String, MediaType&gt;();</span><br><span class="line">		mediaMap.put(<span class="string">"JPG"</span>, MediaType.IMAGE_JPEG);</span><br><span class="line">		mediaMap.put(<span class="string">"GIF"</span>, MediaType.IMAGE_GIF);</span><br><span class="line">		mediaMap.put(<span class="string">"PNG"</span>, MediaType.IMAGE_PNG);</span><br><span class="line">	&#125;<span class="comment">//</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> MediaType <span class="title">getMediaType</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> mediaMap.get(type.toUpperCase());</span><br><span class="line">	&#125;<span class="comment">//</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>UploadFileUtils.java</strong> 생성</p>
<p>이 파일을 실질적으로 업로드된 파일을 저장한다.<br>중점적으로 볼 함수는 uploadFile 이다.<br>화면단에서 전달받은 파일정보를가지고 스프링의 컨트롤러는 UploadFileUtils.uploadFile를 호출함으로써 파일을 저장하게 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanumoka.sample.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.text.DecimalFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.imgscalr.Scalr;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.FileCopyUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadFileUtils</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(UploadFileUtils<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">uploadFile</span><span class="params">(String uploadPath, String originalName, <span class="keyword">byte</span>[] fileData)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//겹쳐지지 않는 파일명을 위한 유니크한 값 생성</span></span><br><span class="line">		UUID uid = UUID.randomUUID();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//원본파일 이름과 UUID 결합</span></span><br><span class="line">		String savedName = uid.toString() + <span class="string">"_"</span> + originalName;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//파일을 저장할 폴더 생성(년 월 일 기준)</span></span><br><span class="line">		String savedPath = calcPath(uploadPath);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//저장할 파일준비</span></span><br><span class="line">		File target = <span class="keyword">new</span> File(uploadPath + savedPath, savedName);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//파일을 저장</span></span><br><span class="line">		FileCopyUtils.copy(fileData, target);</span><br><span class="line">		</span><br><span class="line">		String formatName = originalName.substring(originalName.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">		String uploadedFileName = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//파일의 확장자에 따라 썸네일(이미지일경우) 또는 아이콘을 생성함.</span></span><br><span class="line">		<span class="keyword">if</span>(MediaUtils.getMediaType(formatName) != <span class="keyword">null</span>) &#123;</span><br><span class="line">			uploadedFileName = makeThumbnail(uploadPath, savedPath, savedName);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			uploadedFileName = makeIcon(uploadPath, savedPath, savedName);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//uploadedFileName는 썸네일명으로 화면에 전달된다.</span></span><br><span class="line">		<span class="keyword">return</span> uploadedFileName;</span><br><span class="line">	&#125;<span class="comment">//</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//폴더 생성 함수</span></span><br><span class="line">	<span class="meta">@SuppressWarnings</span>(<span class="string">"unused"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">calcPath</span><span class="params">(String uploadPath)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		Calendar cal = Calendar.getInstance();</span><br><span class="line">		</span><br><span class="line">		String yearPath = File.separator + cal.get(Calendar.YEAR);</span><br><span class="line">		</span><br><span class="line">		String monthPath = yearPath + File.separator + <span class="keyword">new</span> DecimalFormat(<span class="string">"00"</span>).format(cal.get(Calendar.MONTH)+<span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">		String datePath = monthPath + File.separator + <span class="keyword">new</span> DecimalFormat(<span class="string">"00"</span>).format(cal.get(Calendar.DATE));</span><br><span class="line">		</span><br><span class="line">		makeDir(uploadPath, yearPath, monthPath, datePath);</span><br><span class="line">		</span><br><span class="line">		logger.info(datePath);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> datePath;</span><br><span class="line">	&#125;<span class="comment">//calcPath</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//폴더 생성 함수</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">makeDir</span><span class="params">(String uploadPath, String... paths)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">new</span> File(uploadPath + paths[paths.length -<span class="number">1</span>]).exists()) &#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;<span class="comment">//if</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(String path : paths) &#123;</span><br><span class="line">			</span><br><span class="line">			File dirPath = <span class="keyword">new</span> File(uploadPath + path);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(!dirPath.exists()) &#123;</span><br><span class="line">				dirPath.mkdir();</span><br><span class="line">			&#125;<span class="comment">//if</span></span><br><span class="line">			</span><br><span class="line">		&#125;<span class="comment">//for</span></span><br><span class="line">		</span><br><span class="line">	&#125;<span class="comment">//makeDir</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//음??? 아이콘? 이미지 파일이 아닌경우  썸네일을 대신?</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">makeIcon</span><span class="params">(String uploadPath, String path, String fileName)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		String iconName = uploadPath + path + File.separator + fileName;</span><br><span class="line">		<span class="keyword">return</span> iconName.substring(uploadPath.length()).replace(File.separatorChar, <span class="string">'/'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//썸네일 이미지 생성</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">makeThumbnail</span><span class="params">(String uploadPath, String path, String fileName)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		BufferedImage sourceImg = ImageIO.read(<span class="keyword">new</span> File(uploadPath + path, fileName));</span><br><span class="line">		</span><br><span class="line">		BufferedImage destImg = Scalr.resize(sourceImg, Scalr.Method.AUTOMATIC, Scalr.Mode.FIT_TO_HEIGHT, <span class="number">100</span>);</span><br><span class="line">		</span><br><span class="line">		String thumbnailName = uploadPath + path + File.separator + <span class="string">"s_"</span> + fileName;</span><br><span class="line">		</span><br><span class="line">		File newFile = <span class="keyword">new</span> File(thumbnailName);</span><br><span class="line">		String formatName = fileName.substring(fileName.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">		ImageIO.write(destImg, formatName.toUpperCase(), newFile);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> thumbnailName.substring(uploadPath.length()).replace(File.separatorChar, <span class="string">'/'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="예제소스"><a href="#예제소스" class="headerlink" title="예제소스"></a>예제소스</h3><p>위 설정과 유틸리티를 만들었다면, 아래예제 화면2개, 컨트롤러1 파일 업로드 테스트가 가능하다.<br>thymeleaf를 사용한 예제이다.<br>jsp에 html만 옮기고 url만 잡아주면 동작할 것이다.</p>
<p><strong>1.Post방식으로 파일업로드.</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:layout</span>=<span class="string">"http://www.ultraq.net.nz/thymeleaf/layout"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">data-layout-decorate</span>=<span class="string">"~&#123;sample/layout/sampleLayout&#125;"</span></span></span><br><span class="line"><span class="tag">	&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">/*&lt;![CDATA[*/</span></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">/*]]&gt;*/</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">layout:fragment</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- Content Wrapper. Contains page content --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Content Header (Page header) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"content-header"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">        파일 업로드 테스트1</span><br><span class="line">        <span class="tag">&lt;<span class="name">small</span>&gt;</span>Optional description<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">"breadcrumb"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-dashboard"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 예제<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span>read<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Main content --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"content container-fluid"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!--------------------------</span></span><br><span class="line"><span class="comment">        | Your Page Content Here |</span></span><br><span class="line"><span class="comment">        --------------------------&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box box-primary"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-header with-border"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"box-title"</span>&gt;</span>파일업로드 테스트 1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- /.box-header --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- form start --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;form id="form1" action="/sample/upload/uploadForm" method="post" enctype="multipart/form-data"&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form"</span> <span class="attr">action</span>=<span class="string">"/sample/upload/uploadForm"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-body"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                  <span class="comment">&lt;!-- &lt;label for="exampleInputBoardTitle"&gt;Title&lt;/label&gt;</span></span><br><span class="line"><span class="comment">                  &lt;input type="text"  class="form-control"&gt; --&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- /.box-body --&gt;</span></span><br><span class="line"></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-footer"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-warning"</span>&gt;</span>제출<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;button type="submit" class="btn btn-danger"&gt;Remove&lt;/button&gt;</span></span><br><span class="line"><span class="comment">                &lt;button type="submit" class="btn btn-primary"&gt;ListPage&lt;/button&gt; --&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- /.box --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- /.content --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- /.content-wrapper --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>2.ajax 파일 업로드 화면.</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:layout</span>=<span class="string">"http://www.ultraq.net.nz/thymeleaf/layout"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">data-layout-decorate</span>=<span class="string">"~&#123;sample/layout/sampleLayout&#125;"</span></span></span><br><span class="line"><span class="tag">	&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">/*&lt;![CDATA[*/</span></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">	$(<span class="string">".fileDrop"</span>).on(<span class="string">"dragenter dragover"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line">		event.preventDefault();</span><br><span class="line">	&#125;);</span><br><span class="line">	</span><br><span class="line"><span class="javascript">	$(<span class="string">".fileDrop"</span>).on(<span class="string">"drop"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line">		event.preventDefault();</span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="keyword">var</span> files = event.originalEvent.dataTransfer.files;</span></span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="keyword">var</span> file = files[<span class="number">0</span>];</span></span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="comment">//console.log(file);</span></span></span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="keyword">var</span> formData = <span class="keyword">new</span> FormData(); <span class="comment">// HTML5</span></span></span><br><span class="line"><span class="actionscript">		formData.append(<span class="string">"file"</span>, file);</span></span><br><span class="line">		</span><br><span class="line"><span class="javascript">		$.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">			url: <span class="string">'/sample/upload/uploadAjax'</span>,</span></span><br><span class="line">			data: formData,</span><br><span class="line"><span class="actionscript">			dataType: <span class="string">'text'</span>,</span></span><br><span class="line"><span class="actionscript">			processData: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">			contentType: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">			type: <span class="string">'POST'</span>,</span></span><br><span class="line"><span class="actionscript">			success: <span class="function"><span class="keyword">function</span><span class="params">(data)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">				<span class="comment">//alert(data);</span></span></span><br><span class="line"><span class="actionscript">				<span class="comment">//서버로 파일을 전송한 다음에 그 파일을 다시 받아온다.?</span></span></span><br><span class="line">				</span><br><span class="line"><span class="actionscript">				<span class="comment">//이미지 인경우 썸네일을 보여준다.</span></span></span><br><span class="line">				if(checkImageType(data))&#123;</span><br><span class="line"><span class="actionscript">					str = <span class="string">"&lt;div&gt;"</span></span></span><br><span class="line"><span class="actionscript">						+ <span class="string">"&lt;a href='/sample/upload/displayFile?fileName="</span> + getImageLink(data) + <span class="string">"'&gt;"</span></span></span><br><span class="line"><span class="actionscript">						+ <span class="string">"&lt;img src='/sample/upload/displayFile?fileName="</span> + data + <span class="string">"'/&gt;"</span></span></span><br><span class="line"><span class="actionscript">						+ <span class="string">"&lt;/a&gt;"</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">						+ "<span class="tag">&lt;<span class="name">small</span> <span class="attr">data-src</span>=<span class="string">'" + data + "'</span>&gt;</span>X<span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">				&#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">					str = <span class="string">"&lt;div&gt;"</span></span></span><br><span class="line"><span class="actionscript">						+ <span class="string">"&lt;a href='/sample/upload/displayFile?fileName="</span> + data + <span class="string">"'&gt;"</span></span></span><br><span class="line"><span class="actionscript">						+ getOriginalName(data) + <span class="string">"&lt;/a&gt;"</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">						+ "<span class="tag">&lt;<span class="name">small</span> <span class="attr">data-src</span>=<span class="string">'" + data + "'</span>&gt;</span>X<span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">				&#125;<span class="comment">//else</span></span></span><br><span class="line">					</span><br><span class="line"><span class="javascript">				$(<span class="string">".uploadedList"</span>).append(str);	</span></span><br><span class="line">			&#125;,</span><br><span class="line"><span class="actionscript">		&#125;);<span class="comment">// ajax</span></span></span><br><span class="line">		</span><br><span class="line">	&#125;);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="actionscript">	<span class="comment">/* 컨트롤러로 부터 전송받은 파일이 이미지 파일인지 확인하는 함수 */</span></span></span><br><span class="line"><span class="actionscript">	<span class="function"><span class="keyword">function</span> <span class="title">checkImageType</span><span class="params">(fileName)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> pattern = <span class="regexp">/jpg$|gif$|png$|jpeg$/i</span>;</span></span><br><span class="line"><span class="actionscript">		<span class="keyword">return</span> fileName.match(pattern);</span></span><br><span class="line"><span class="actionscript">	&#125;<span class="comment">//checkImageType</span></span></span><br><span class="line">	</span><br><span class="line"><span class="actionscript">	<span class="comment">//파일 이름 처리 : UUID 가짜 이름 제거</span></span></span><br><span class="line"><span class="actionscript">	<span class="function"><span class="keyword">function</span> <span class="title">getOriginalName</span><span class="params">(fileName)</span></span>&#123;</span></span><br><span class="line">		if(checkImageType(fileName))&#123;</span><br><span class="line"><span class="actionscript">			<span class="keyword">return</span>;</span></span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="keyword">var</span> idx = fileName.indexOf(<span class="string">"_"</span>) + <span class="number">1</span>;</span></span><br><span class="line"><span class="actionscript">		<span class="keyword">return</span> fileName.substr(idx);</span></span><br><span class="line">			</span><br><span class="line"><span class="actionscript">	&#125;<span class="comment">//getOriginalName</span></span></span><br><span class="line">	</span><br><span class="line"><span class="actionscript">	<span class="comment">//이미지 원본 링크 제공</span></span></span><br><span class="line"><span class="actionscript">	<span class="function"><span class="keyword">function</span> <span class="title">getImageLink</span><span class="params">(fileName)</span></span>&#123;</span></span><br><span class="line">		</span><br><span class="line">		if(!checkImageType(fileName))&#123;</span><br><span class="line"><span class="actionscript">			<span class="keyword">return</span>;</span></span><br><span class="line"><span class="actionscript">		&#125;<span class="comment">//if</span></span></span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="keyword">var</span> front = fileName.substr(<span class="number">0</span>, <span class="number">12</span>);</span></span><br><span class="line"><span class="actionscript">		<span class="keyword">var</span> end = fileName.substr(<span class="number">14</span>);</span></span><br><span class="line">		</span><br><span class="line"><span class="actionscript">		<span class="keyword">return</span> front + end;</span></span><br><span class="line">		</span><br><span class="line"><span class="actionscript">	&#125;<span class="comment">//getImageLink</span></span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="actionscript">	<span class="comment">//업로드 파일 삭제 처리</span></span></span><br><span class="line"><span class="javascript">	$(<span class="string">".uploadedList"</span>).on(<span class="string">"click"</span>, <span class="string">"small"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line">		</span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> that = $(<span class="keyword">this</span>);</span></span><br><span class="line">		</span><br><span class="line"><span class="javascript">		alert($(<span class="keyword">this</span>).attr(<span class="string">"data-src"</span>));</span></span><br><span class="line">		</span><br><span class="line"><span class="javascript">		$.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">			url: <span class="string">"/sample/upload/deleteFile"</span>,</span></span><br><span class="line"><span class="actionscript">			type: <span class="string">"post"</span>,</span></span><br><span class="line"><span class="javascript">			data: &#123;<span class="attr">fileName</span>:$(<span class="keyword">this</span>).attr(<span class="string">"data-src"</span>)&#125;,</span></span><br><span class="line"><span class="actionscript">			dataType: <span class="string">"text"</span>,</span></span><br><span class="line"><span class="actionscript">			success : <span class="function"><span class="keyword">function</span><span class="params">(result)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">				<span class="keyword">if</span>(result == <span class="string">'deleted'</span>)&#123;</span></span><br><span class="line"><span class="actionscript">					<span class="comment">//alert("deleted");</span></span></span><br><span class="line"><span class="actionscript">					that.parent(<span class="string">"div"</span>).remove();</span></span><br><span class="line"><span class="actionscript">				&#125;<span class="comment">//</span></span></span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line"><span class="actionscript">	&#125;);<span class="comment">//uploadedList</span></span></span><br><span class="line">	</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.fileDrop</span>&#123;</span></span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 200px;</span><br><span class="line">	border: 1px dotted blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">small &#123;</span><br><span class="line">	margin-left: 3px;</span><br><span class="line">	font-weight: bold;</span><br><span class="line">	color: gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">layout:fragment</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- Content Wrapper. Contains page content --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Content Header (Page header) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"content-header"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">       Ajax 파일 업로드</span><br><span class="line">        <span class="tag">&lt;<span class="name">small</span>&gt;</span>Optional description<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">"breadcrumb"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-dashboard"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 예제<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span>read<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Main content --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"content container-fluid"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!--------------------------</span></span><br><span class="line"><span class="comment">        | Your Page Content Here |</span></span><br><span class="line"><span class="comment">        --------------------------&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box box-primary"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-header with-border"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"box-title"</span>&gt;</span>Ajax File Upload<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- /.box-header --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- form start --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;form id="form1" action="/sample/upload/uploadForm" method="post" enctype="multipart/form-data"&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form"</span> <span class="attr">action</span>=<span class="string">"/sample/upload/uploadForm"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-body"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">				  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fileDrop"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>	</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- /.box-body --&gt;</span></span><br><span class="line"></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-footer"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;button type="submit" class="btn btn-warning"&gt;제출&lt;/button&gt; --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"uploadedList"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- /.box --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- /.content --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- /.content-wrapper --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>UploadController.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hanumoka.sample.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpHeaders;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.FileCopyUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hanumoka.sample.util.MediaUtils;</span><br><span class="line"><span class="keyword">import</span> com.hanumoka.sample.util.UploadFileUtils;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/sample/upload/*"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(UploadController<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Resource</span>(name = <span class="string">"uploadPath"</span>)</span><br><span class="line">	<span class="keyword">private</span> String uploadPath;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@RequestMapping</span>(value = <span class="string">"/uploadForm"</span>, method = RequestMethod.GET)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">uploadFormGET</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"/sample/upload/uploadForm"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Post 방식 파일 업로드</span></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value = <span class="string">"/uploadForm"</span>, method = RequestMethod.POST)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">uploadFormPOST</span><span class="params">(MultipartFile file, Model model)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		logger.info(<span class="string">"uploadFormPost"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(file != <span class="keyword">null</span>) &#123;</span><br><span class="line">			logger.info(<span class="string">"originalName:"</span> + file.getOriginalFilename());</span><br><span class="line">			logger.info(<span class="string">"size:"</span> + file.getSize());</span><br><span class="line">			logger.info(<span class="string">"ContentType:"</span> + file.getContentType());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		String savedName = uploadFile(file.getOriginalFilename(), file.getBytes());</span><br><span class="line">		</span><br><span class="line">		model.addAttribute(<span class="string">"savedName"</span>, savedName);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"/sample/upload/uploadForm"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//업로드된 파일을 저장하는 함수</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> String <span class="title">uploadFile</span><span class="params">(String originalName, <span class="keyword">byte</span>[] fileDate)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		</span><br><span class="line">		UUID uid = UUID.randomUUID();</span><br><span class="line">		</span><br><span class="line">		String savedName = uid.toString() + <span class="string">"_"</span> + originalName;</span><br><span class="line">		File target = <span class="keyword">new</span> File(uploadPath, savedName);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//org.springframework.util 패키지의 FileCopyUtils는 파일 데이터를 파일로 처리하거나, 복사하는 등의 기능이 있다.</span></span><br><span class="line">		FileCopyUtils.copy(fileDate, target);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> savedName;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Ajax 파일 업로드</span></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/sample/upload/uploadAjax"</span>, method = RequestMethod.GET)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">uploadAjaxGET</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"/sample/upload/uploadAjax"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Ajax 파일 업로드 produces는 한국어를 정상적으로 전송하기 위한 속성</span></span><br><span class="line">	<span class="meta">@ResponseBody</span></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/sample/upload/uploadAjax"</span>, method = RequestMethod.POST, produces = <span class="string">"text/plain;charset=UTF-8"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title">uploadAjaxPOST</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		logger.info(<span class="string">"originalName:"</span> + file.getOriginalFilename());</span><br><span class="line">		logger.info(<span class="string">"size:"</span> + file.getSize());</span><br><span class="line">		logger.info(<span class="string">"contentType:"</span> + file.getContentType());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//String savedName = uploadFile(file.getOriginalFilename(), file.getBytes());</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//HttpStatus.CREATED : 리소스가 정상적으로 생성되었다는 상태코드.</span></span><br><span class="line">		<span class="comment">//return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.CREATED);</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(UploadFileUtils.uploadFile(uploadPath, file.getOriginalFilename(), file.getBytes()), HttpStatus.CREATED);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//화면에 저장된 파일을 보여주는 컨트롤러 /년/월/일/파일명 형태로 입력 받는다.</span></span><br><span class="line">	<span class="comment">// displayFile?fileName=/년/월/일/파일명</span></span><br><span class="line">	<span class="meta">@ResponseBody</span></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/sample/upload/displayFile"</span>, method = RequestMethod.GET)</span><br><span class="line">	<span class="keyword">public</span> ResponseEntity&lt;<span class="keyword">byte</span>[]&gt; displayFile(String fileName) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		</span><br><span class="line">		InputStream in = <span class="keyword">null</span>;</span><br><span class="line">		ResponseEntity&lt;<span class="keyword">byte</span>[]&gt; entity = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		logger.info(<span class="string">"File name: "</span> + fileName);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			String formatName = fileName.substring(fileName.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>);</span><br><span class="line">			</span><br><span class="line">			MediaType mType = MediaUtils.getMediaType(formatName);</span><br><span class="line">			</span><br><span class="line">			HttpHeaders headers = <span class="keyword">new</span> HttpHeaders();</span><br><span class="line">			</span><br><span class="line">			in = <span class="keyword">new</span> FileInputStream(uploadPath + fileName);</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(mType != <span class="keyword">null</span>) &#123;</span><br><span class="line">				headers.setContentType(mType);</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				fileName = fileName.substring(fileName.indexOf(<span class="string">"_"</span>)+<span class="number">1</span>);</span><br><span class="line">				headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);</span><br><span class="line">				headers.add(<span class="string">"Content-Disposition"</span>, <span class="string">"attachment; filename=\""</span> + <span class="keyword">new</span> String(fileName.getBytes(<span class="string">"UTF-8"</span>), <span class="string">"ISO-8859-1"</span>) + <span class="string">"\""</span>);</span><br><span class="line">			&#125;<span class="comment">// else</span></span><br><span class="line">			</span><br><span class="line">			entity = <span class="keyword">new</span> ResponseEntity&lt;<span class="keyword">byte</span>[]&gt;(IOUtils.toByteArray(in), headers, HttpStatus.CREATED);</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			entity = <span class="keyword">new</span> ResponseEntity&lt;<span class="keyword">byte</span>[]&gt;(HttpStatus.BAD_REQUEST);</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			in.close();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> entity;</span><br><span class="line">	&#125;<span class="comment">// displayFile</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//업로드된 파일 삭제 처리</span></span><br><span class="line">	<span class="meta">@ResponseBody</span></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/sample/upload/deleteFile"</span>, method = RequestMethod.POST)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title">deleteFile</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		</span><br><span class="line">		logger.info(<span class="string">"delete file:"</span> + fileName);</span><br><span class="line">		</span><br><span class="line">		String formatName = fileName.substring(fileName.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">		MediaType mType = MediaUtils.getMediaType(formatName);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(mType != <span class="keyword">null</span>) &#123;</span><br><span class="line">			String front = fileName.substring(<span class="number">0</span>, <span class="number">12</span>);</span><br><span class="line">			String end = fileName.substring(<span class="number">14</span>);</span><br><span class="line">			<span class="keyword">new</span> File(uploadPath + (front+end).replace(<span class="string">'/'</span>, File.separatorChar)).delete();</span><br><span class="line">		&#125;<span class="comment">//if</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">new</span> File(uploadPath + fileName.replace(<span class="string">'/'</span>, File.separatorChar)).delete();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;String&gt;(<span class="string">"deleted"</span>, HttpStatus.OK);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><img src="/images/20180906-spring-file-upload_1.png" alt="동작예시"></p>
<h3 id="참고자료"><a href="#참고자료" class="headerlink" title="참고자료"></a>참고자료</h3><p>코드로 배우는 스프링 웹 프로젝트(남가람북스)</p>

      
          
    </div>

    
    
    

      <footer class="post-footer">
      <div>
      <!-- Utterances 댓글 -->
      <script src="https://utteranc.es/client.js" repo="hanumoka/hanumoka.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async>
      </script>
      <div style="font-size: 1rem;
                  font-weight: 400;
                  line-height: 1.5;
                  text-align: left;
                  box-sizing: border-box;
                  position: relative;
                  padding: .75rem 1.25rem;
                  margin-bottom: 1rem;
                  border: 1px solid transparent;
                  border-radius: .25rem;
                  color: #721c24;
                  background-color: #f8d7da;
                  border-color: #f5c6cb;
                  margin-top: 1rem;">
        Notice: 댓글을 사용하시려면, github에 로그인을 해주세요.(Utterances 댓글을 사용중입니다.)
      </div>
    <div>
          <div class="post-tags">
              <a href="/tags/spring/" rel="tag"># spring</a>
              <a href="/tags/File-upload/" rel="tag"># File upload</a>
              <a href="/tags/%ED%8C%8C%EC%9D%BC%EC%97%85%EB%A1%9C%EB%93%9C/" rel="tag"># 파일업로드</a>
              <a href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/" rel="tag"># 스프링</a>
              <a href="/tags/%EC%8D%B8%EB%84%A4%EC%9D%BC/" rel="tag"># 썸네일</a>
          </div>
        

        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/09/04/javascript-20180904-javascript-design-patterns/" rel="prev" title="javascript - Module 패턴(전역스코프를 지켜라)">
      <i class="fa fa-chevron-left"></i> javascript - Module 패턴(전역스코프를 지켜라)
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/09/11/spring-20180911-spring-Transactional/" rel="next" title="spring - @Transactional(스프링 트랜잭션 적용하기.)">
      spring - @Transactional(스프링 트랜잭션 적용하기.) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </div></div></footer>
    
  </article>

  
      


  
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          흝어보기
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#들어가기"><span class="nav-number">1.</span> <span class="nav-text">들어가기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#필요한-라이브러리"><span class="nav-number">2.</span> <span class="nav-text">필요한 라이브러리</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#스프링-mulipartResolver-선언"><span class="nav-number">3.</span> <span class="nav-text">스프링 mulipartResolver 선언</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#업로드할-파일위치-지정하기"><span class="nav-number">4.</span> <span class="nav-text">업로드할 파일위치 지정하기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#web-xml-파일의-한글파일-인코딩-처리"><span class="nav-number">5.</span> <span class="nav-text">web.xml 파일의 한글파일 인코딩 처리</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#서버에-파일을-저장할때-고려해야-할-사항들"><span class="nav-number">6.</span> <span class="nav-text">서버에 파일을 저장할때 고려해야 할 사항들</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#서버에-파일을-저장할-유틸리티-클래스-생성"><span class="nav-number">7.</span> <span class="nav-text">서버에 파일을 저장할 유틸리티 클래스 생성</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#예제소스"><span class="nav-number">8.</span> <span class="nav-text">예제소스</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#참고자료"><span class="nav-number">9.</span> <span class="nav-text">참고자료</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hanumoka</p>
  <div class="site-description" itemprop="description">아마추어 개발자의 블로그</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">197</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">카테고리</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">551</span>
        <span class="site-state-item-name">태그</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hanumoka" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hanumoka" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:amagramer@gmail.com" title="E-Mail → mailto:amagramer@gmail.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>


    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hanumoka</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">NexT.Gemini</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
