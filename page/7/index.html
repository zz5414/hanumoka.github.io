<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://www.hanumoka.net').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

<!-- 구글 애드센스 코드  -->
<script data-ad-client="ca-pub-6388187282606796" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6388187282606796",
          enable_page_level_ads: true
     });
</script>
-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100596920-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-100596920-1');
</script>
 
<!-- 네이버 웹 마스터-->
<meta name="naver-site-verification" content="74bc91ee61c53c02f7d87ab3a442f99823f4f5f9">
  <meta name="description" content="아마추어 개발자의 블로그">
<meta property="og:type" content="website">
<meta property="og:title" content="Hanumoka, IT Blog">
<meta property="og:url" content="https://www.hanumoka.net/page/7/index.html">
<meta property="og:site_name" content="Hanumoka, IT Blog">
<meta property="og:description" content="아마추어 개발자의 블로그">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="Hanumoka">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.hanumoka.net/page/7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Hanumoka, IT Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hanumoka, IT Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hanumoka, IT Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">그래봐야 코딩, 그래도 코딩</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>홈</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>태그</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>카테고리</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>아카이브</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-fw fa-calendar"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>Sitemap</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/atom.xml" rel="section"><i class="fa fa-fw fa-rss"></i>rss</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>Commonweal 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>검색
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/hanumoka" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow noopener noreferrer" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/12/02/java-20181202-java-singleton/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/02/java-20181202-java-singleton/" class="post-title-link" itemprop="url">Java 싱글톤(singleton) 클래스</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-12-02 07:18:24" itemprop="dateCreated datePublished" datetime="2018-12-02T07:18:24+09:00">2018-12-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>java에서 싱글톤 객체를 생성하는 클래스 예제이다.</p>
<p>핵심은 클래스의 생성자를 private로 설정하여, 외부에서 생성자 호출을 막고 static를 이용하는 것이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java_test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		Test t1 = Test.getInstance(); </span><br><span class="line">		</span><br><span class="line">		t1.doSomething();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//싱글톤으로 설계된 클래스</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Test singleton = <span class="keyword">new</span> Test();</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">static</span> Test <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> Test.singleton;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//생성자를 private로 가려 외부로부 호추을 막는다.</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Test</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"나는 싱글톤 클래스 TEST이다."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/12/02/mysql-20181202-mysql-workbench-bug-not-showing-result-grid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/02/mysql-20181202-mysql-workbench-bug-not-showing-result-grid/" class="post-title-link" itemprop="url">mysql workbench 쿼리 결과창(result grid) 보이게 하기(Windows)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-12-02 00:39:51" itemprop="dateCreated datePublished" datetime="2018-12-02T00:39:51+09:00">2018-12-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:12" itemprop="dateModified" datetime="2020-04-16T01:50:12+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mysql/" itemprop="url" rel="index">
                    <span itemprop="name">mysql</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>Mysql의 무료 DB관리툴로 Mysql Workbencn라는 것이 있다.<br>공짜! 공짜! 공짜! 툴이라 굉장히 호감이 가는 툴이다.<br>하지만 8버전 이후 버그가 많아진 듯 하다.</p>
<p>내 경우에는 쿼리의 결과칭이 보이지 않았다.</p>
<p><img src="/images/20181202-mysql-workbench-bug-not-showing-result-grid_1.png" alt="이렇게 쿼리를 실행한 결과가 보이는 result grid가 나오지 않는 경우가 있다."></p>
<p>구글링을 해보니 Mysql workbench 8.0.11 버전 이후로 Mac OS에서 위와 같은 문제가 자주 발생한다고 한다.</p>
<p>그런데… 난 Windows인데 쿼리의 결과창이 안보인다.</p>
<h1 id="해결방법"><a href="#해결방법" class="headerlink" title="해결방법"></a>해결방법</h1><p>일단 workbench를 리스타트 한다.</p>
<p><img src="/images/20181202-mysql-workbench-bug-not-showing-result-grid_2.png" alt="번개와 돋보기 모양 아이콘을 클릭한다."></p>
<p>위 아이콘을 클릭하면 아래처럼 바로 grid result창이 나온다.</p>
<p><img src="/images/20181202-mysql-workbench-bug-not-showing-result-grid_3.png" alt="result gird를 선택하자."></p>
<p>별 내용은 없다.</p>
<p>하지만 workbench에서 버그가 발생한 상태에서 workbench 리스타트를 하지 않고 result grid창을 다시 열어도, 막상 쿼리를 실행시키면 result grid가 사라진다.</p>
<p>반드시 workbench 재시작 이후에 result grid를 열어주자.</p>
<h1 id="참고자료"><a href="#참고자료" class="headerlink" title="참고자료"></a>참고자료</h1><p><a href="https://stackoverflow.com/questions/28038580/how-to-hide-view-result-grid-in-mysql-workbench" target="_blank" rel="external nofollow noopener noreferrer">https://stackoverflow.com/questions/28038580/how-to-hide-view-result-grid-in-mysql-workbench</a></p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/28/node-20181128-node-express-handlerbars/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/28/node-20181128-node-express-handlerbars/" class="post-title-link" itemprop="url">Node Express에 handlebars 템플릿엔진 적용하기(레이아웃적용)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-28 20:34:04" itemprop="dateCreated datePublished" datetime="2018-11-28T20:34:04+09:00">2018-11-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:12" itemprop="dateModified" datetime="2020-04-16T01:50:12+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>Node Express환경에서 Pug와 EJS템플릿 엔진을 많이 사용하는 듯 하다.<br>내가 보고 있는 책에서도 Pug위주의 예제로 진행이 되었다.</p>
<p>하지만 막상 Express예제 프로젝트를 만들어 써보니 Pug이녀석 여간 까다로운 것이 아니다.<br>익숙해 진다면 굉장히 쉽게 태그를 작성할수는 있지만, 문제는 HTML문법을 너무 회손한다는 것이다.</p>
<p>즉, 인터넷에서 쉽게 구할수 있는 bootstrap 템플릿 같은것을 적용하기가 어렵다는 소리이다.<br>차선책으로 EJS를 써볼까 했으나, 이것도 영 HTML 친화적이지 못한것 같았다. 더군다나 jsp 스크립틀릿 같아서…</p>
<p>구글링을 해보니 handlebars라는 템플릿을 찾게 되었다.<br>얼마전에 Spring 웹프로젝트 예제를 만들때 thymeleaf와 고민했던 그 템플릿 엔진을 Node에서도 사용할수 있었다.</p>
<p>handlebars는 다른 템플릿 엔진에 비해 상대적으로 HTML을 거의 회손하지 않았고, 서버사이드뿐만 아니라 클라이언트 사이드에서도 단독으로 동작할수 있는 장점이 있다.</p>
<p><a href="https://www.slant.co/versus/181/184/~handlebars-js_vs_ejs" target="_blank" rel="external nofollow noopener noreferrer">https://www.slant.co/versus/181/184/~handlebars-js_vs_ejs</a><br>위 사이트에서 Handlebars.js와 EJS를 비교하는 설문을 했는데 Handlebars가 더 많은 지지를 받고 있다.</p>
<p>이 글은 내가 예제로 Express 프로젝트에 Handlebars 템플릿 엔진을 적용하는 글이다.<br>Handlerbars 템플릿 적용 말고도, mysql 시퀄라이저등 다른 설정도 포함한 글이다.</p>
<p>참고로 Node에서 express-handlebars라는 모듈을 사용한다.</p>
<h1 id="기초-Express-프로젝트-생성-수동생성"><a href="#기초-Express-프로젝트-생성-수동생성" class="headerlink" title="기초 Express 프로젝트 생성(수동생성)"></a>기초 Express 프로젝트 생성(수동생성)</h1><p>참고로 책을 보고 따라한 예제이며, Express cli를 사용하지 않고 수동으로 프로젝트를 생성했다.(템플릿 엔진을 선택하기 싫어서…)<br>개개인 입맛에 맞게 Express 프로젝트를 생성해도 된다.</p>
<p>프로젝트 폴더로 backend라는 폴더를 만들고, 다음 명령어로 node 프로젝트 생성</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>

<p>생성된 package.json를 아래처럼 수정</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"backend"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.1"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"bnad_of_coder express backend"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"app.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"nodemon app"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"hanumoka"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"MIT"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="mysqlDB와-sequleize를-사용하기-위해-모듈-설치"><a href="#mysqlDB와-sequleize를-사용하기-위해-모듈-설치" class="headerlink" title="mysqlDB와 sequleize를 사용하기 위해 모듈 설치"></a>mysqlDB와 sequleize를 사용하기 위해 모듈 설치</h2><p>handlebars를 적용하는데 필요없다면 넘어가자.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i -g sequelize-cli</span><br><span class="line">npm i sequelize mysql2</span><br><span class="line">sequelize init</span><br></pre></td></tr></table></figure>

<p>시퀄라이저 기본폴더 4개 생성됨 config, migrations, models, seeders</p>
<p>수동으로 views, routers, public, passport를 만들어준다.</p>
<h2 id="backend-폴더에-app-js-파일을-생성한다"><a href="#backend-폴더에-app-js-파일을-생성한다" class="headerlink" title="backend 폴더에 app.js 파일을 생성한다."></a>backend 폴더에 app.js 파일을 생성한다.</h2><p>app.js파일은 pakcage.json에서 설정한대로 Express의 엔트리 파일이 된다.</p>
<h2 id="Express와-그-관련-모듈과-express-handlebars를-설치한다"><a href="#Express와-그-관련-모듈과-express-handlebars를-설치한다" class="headerlink" title="Express와 그 관련 모듈과, express-handlebars를 설치한다."></a>Express와 그 관련 모듈과, express-handlebars를 설치한다.</h2><p>기타 모듈들을 추가한다. 템플릿 엔진은 handlebars를 사용한다.<br><strong>express-handlebars</strong>라는 모듈을 설치해야 한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm i express</span><br><span class="line">npm i cookie-parser</span><br><span class="line">npm i express-session</span><br><span class="line">npm i morgan</span><br><span class="line">npm i connect-flash</span><br><span class="line">npm i express-handlebars</span><br><span class="line">npm i -g nodemon</span><br><span class="line">npm i -D nodemon</span><br></pre></td></tr></table></figure>

<p>nodemon모듈은 서버 코드에 수정이 발생하면 자동으로 재시작 해준다.<br>실행되는 콘솔에서 rs를 입력해서 수동으로 재시작 할 수 있다.<br>nodemon은 개발용(배포용 아님)이다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i dotenv</span><br></pre></td></tr></table></figure>

<p>dotenv 모듈을 추가 설치하고, backend 폴더에 .env 파일을 만들고 아래 내용을 채운다.<br>이 것은 서버에서 쿠키, 세션용 비밀키 관리용이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COOKIE_SECRET&#x3D;hanumokasecret</span><br></pre></td></tr></table></figure>

<h2 id="app-js-파일을-아래처럼-수정"><a href="#app-js-파일을-아래처럼-수정" class="headerlink" title="app.js 파일을 아래처럼 수정"></a>app.js 파일을 아래처럼 수정</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> hbs = <span class="built_in">require</span>(<span class="string">'express-handlebars'</span>);   <span class="comment">// handlebars 템플릿 엔진</span></span><br><span class="line"><span class="keyword">const</span> cookieParser = <span class="built_in">require</span>(<span class="string">'cookie-parser'</span>);</span><br><span class="line"><span class="keyword">const</span> morgan = <span class="built_in">require</span>(<span class="string">'morgan'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">'express-session'</span>);</span><br><span class="line"><span class="keyword">const</span> flash = <span class="built_in">require</span>(<span class="string">'connect-flash'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'dotenv'</span>).config();  <span class="comment">// 비밀키 관리</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//TEST</span></span><br><span class="line"><span class="keyword">const</span> userTestRouter = <span class="built_in">require</span>(<span class="string">'./routes/test/user_test'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">//** handlebars 핵심 설정 시작 **//</span></span><br><span class="line">app.engine( <span class="string">'hbs'</span>, hbs( &#123;</span><br><span class="line">  extname: <span class="string">'hbs'</span>,</span><br><span class="line">  defaultLayout: <span class="string">'main'</span>,    <span class="comment">// 기본 레이아웃 파일 main.hbs 지정, 요청에 따라 레이아웃을 변경할수 있다.</span></span><br><span class="line">  layoutsDir: __dirname + <span class="string">'/views/layouts/'</span>,  <span class="comment">// 헨들바템플릿의 레이아웃 파일의 위치</span></span><br><span class="line">  partialsDir: __dirname + <span class="string">'/views/partials/'</span> <span class="comment">// 파티셜이란: 레이아웃을 채울 header.hbs, left.hbs, footer.hbs 파일의 위치</span></span><br><span class="line">&#125; ) );</span><br><span class="line"></span><br><span class="line">app.set( <span class="string">'view engine'</span>, <span class="string">'hbs'</span> ); <span class="comment">// handlebars파일의 확장자를 hbs로 사용.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//** handlebars 핵심 설정 끝 **//</span></span><br><span class="line"></span><br><span class="line">app.set(<span class="string">'port'</span>, process.env.PORT || <span class="number">8001</span>);</span><br><span class="line"></span><br><span class="line">app.use(morgan(<span class="string">'dev'</span>));</span><br><span class="line">app.use(express.static(path.join(__dirname, <span class="string">'public'</span>)));</span><br><span class="line">app.use(express.json());</span><br><span class="line">app.use(express.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line">app.use(cookieParser(process.env.COOKIE_SECRET));</span><br><span class="line">app.use(session(&#123;</span><br><span class="line">  resave: <span class="literal">false</span>,</span><br><span class="line">  saveUninitialized: <span class="literal">false</span>,</span><br><span class="line">  secret: process.env.COOKIE_SECRET,</span><br><span class="line">  cookie: &#123;</span><br><span class="line">    httpOnly: <span class="literal">true</span>,</span><br><span class="line">    secure: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;));</span><br><span class="line">app.use(flash());</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.render(<span class="string">'index'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//TEST ROUTER</span></span><br><span class="line">app.use(<span class="string">'/test'</span>, userTestRouter);</span><br><span class="line"></span><br><span class="line">app.use(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found'</span>);</span><br><span class="line">  err.status = <span class="number">404</span>;</span><br><span class="line">  next(err);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(<span class="function">(<span class="params">err, req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.locals.message = err.message;</span><br><span class="line">  res.locals.error = req.app.get(<span class="string">'env'</span>) === <span class="string">'development'</span> ? err : &#123;&#125;;</span><br><span class="line">  res.status(err.status || <span class="number">500</span>);</span><br><span class="line">  res.render(<span class="string">'error'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(app.get(<span class="string">'port'</span>), () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(app.get(<span class="string">'port'</span>), <span class="string">'번 포트에서 대기중'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="Handlerbars관련-디렉토리와-파일들"><a href="#Handlerbars관련-디렉토리와-파일들" class="headerlink" title="Handlerbars관련 디렉토리와 파일들"></a>Handlerbars관련 디렉토리와 파일들</h1><p>위의 app.js에서 Handlebars의 핵심 소스를 추리면 아래와 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hbs = <span class="built_in">require</span>(<span class="string">'express-handlebars'</span>);</span><br><span class="line"></span><br><span class="line">app.engine( <span class="string">'hbs'</span>, hbs( &#123;</span><br><span class="line">  extname: <span class="string">'hbs'</span>,</span><br><span class="line">  defaultLayout: <span class="string">'main'</span>,</span><br><span class="line">  layoutsDir: __dirname + <span class="string">'/views/layouts/'</span>,</span><br><span class="line">  partialsDir: __dirname + <span class="string">'/views/partials/'</span></span><br><span class="line">&#125; ) );</span><br><span class="line"></span><br><span class="line">app.set( <span class="string">'view engine'</span>, <span class="string">'hbs'</span> );</span><br></pre></td></tr></table></figure>

<p>그리고 주요 파일들은 아래와 같다.<br>파일들을 생성해주자.</p>
<p>디폴트 레이아웃 : views/layouts/main.hbs<br>레이아웃에 사용할 header : views/partials/header.hbs<br>레이아웃에서 사용할 footer : views/partials/footer.hbs<br>레이아웃에서 사용할 leaf : views/partials/left.hbs<br>인덱스 페이지 : views/index.hbs</p>
<p><img src="/images/20181128-node-express-handlebars_2.png" alt="내 폴더구조"></p>
<p><img src="/images/20181128-node-express-handlebars_1.png" alt="예상하는 레이아웃 구조"></p>
<p>중요한 것은 레이아웃을 담당하는 main.hbs일 것이다.</p>
<p>아래는 main.hbs 이다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Example App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  &#123;&#123;&gt; header &#125;&#125;</span><br><span class="line">  &#123;&#123;&gt; left &#125;&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;&#123;&#123;body&#125;&#125;&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;&#123;&gt; footer &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>body와 나머지의 무스타치 표현이 살작 다른것을 확인 할 수 있다. body는 라우터에서 바꿔줄 페이지의 컨텐츠가 된다.</p>
<p>나머지 header.hbs, footer.hbs, left.hbs와 index.hbs에는 대충 구별할수 있게 텍스트를 쳐주자.</p>
<p>예를 들어 header.hbs에는 아래처럼</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>헤더 입니다.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>위 app.js에 기본 인덱스 라우터가 설정되어 있다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.render(<span class="string">'index'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>서버를 npm start로 실행하고 <em><a href="http://localhost:8001" target="_blank" rel="external nofollow noopener noreferrer">http://localhost:8001</a></em> 로 접근하면, 레이아웃이 적용된 index.hbs 파일이 보이는 것을 확인 할 수 있다.</p>
<p><a href="http://avilos.codes/server/nodejs/node-js-express-and-handlebars/" target="_blank" rel="external nofollow noopener noreferrer">http://avilos.codes/server/nodejs/node-js-express-and-handlebars/</a> 이 글을 보면, 라우팅 할때 레이아웃을 변경할수도 있다.</p>
<p>나는 부트스트랩4 템플릿 <a href="https://github.com/puikinsh/ElaAdmin를" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/puikinsh/ElaAdmin를</a> 적용하여 다음과 같이 화면이 나온다.</p>
<p><img src="/images/20181128-node-express-handlebars_3.png" alt="index.hbs"></p>
<p>그리고 body페이지를 하나 추가하고 아래처럼, body가 바뀌는 것을 확인 할 수 있다.</p>
<p><img src="/images/20181128-node-express-handlebars_4.png" alt="test.hbs"></p>
<p>예제끝!!!</p>
<h1 id="참고자료"><a href="#참고자료" class="headerlink" title="참고자료"></a>참고자료</h1><p><a href="http://avilos.codes/server/nodejs/node-js-express-and-handlebars/" target="_blank" rel="external nofollow noopener noreferrer">http://avilos.codes/server/nodejs/node-js-express-and-handlebars/</a></p>
<p><a href="https://stackoverflow.com/questions/16385173/node-js-express-handlebars-js-partial-views" target="_blank" rel="external nofollow noopener noreferrer">https://stackoverflow.com/questions/16385173/node-js-express-handlebars-js-partial-views</a></p>
<p><a href="https://github.com/ericf/express-handlebars" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/ericf/express-handlebars</a></p>
<p>핸들바 문법<br><a href="https://programmingsummaries.tistory.com/381" target="_blank" rel="external nofollow noopener noreferrer">https://programmingsummaries.tistory.com/381</a></p>
<p>부트스트렙4 어드민 테마<br><a href="https://github.com/puikinsh/ElaAdmin" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/puikinsh/ElaAdmin</a></p>
<h1 id="기타-Express-favicon-처리-위-예제와-상관-없음"><a href="#기타-Express-favicon-처리-위-예제와-상관-없음" class="headerlink" title="기타. Express favicon 처리(위 예제와 상관 없음)"></a>기타. Express favicon 처리(위 예제와 상관 없음)</h1><p>파비콘이 없어서 404 뜨는 경우.<br><a href="https://www.npmjs.com/package/serve-favicon" target="_blank" rel="external nofollow noopener noreferrer">https://www.npmjs.com/package/serve-favicon</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install serve-favicon</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> favicon = <span class="built_in">require</span>(<span class="string">'serve-favicon'</span>)</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line">app.use(favicon(path.join(__dirname, <span class="string">'public'</span>, <span class="string">'favicon.ico'</span>)))</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Add your routes here, etc.</span></span><br><span class="line"> </span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure>


      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/24/java-20181124-java-lambda2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/24/java-20181124-java-lambda2/" class="post-title-link" itemprop="url">java - 함수형 인터페이스 API(람다의 활용1)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-24 23:50:30" itemprop="dateCreated datePublished" datetime="2018-11-24T23:50:30+09:00">2018-11-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>자바의 람다는 자바언어에서 쉽고 간편하게 함수를 선언해서 사용하기위한 수단이다.<br>하지만 자바는 객체 지향언어이고 기본적인 프로그래밍의 단위는 Class이다.</p>
<p>자바에서 구현하는 함수는 이 class의 범위를 벗어 날수가 없다.<br>함수적 인터페이스(추상클래스가 하나뿐인 인터페이스)를 구현하여 함수를 생성하고 사용하는 매커니즘을 통해서 함수형 프로그래밍을 지원하며, 람다식은 이것에 특화된 문법일 뿐이다.<br>실질적으로 함수 한개를 생성해서 사용하는 것 뿐이지만, 결과적으로는 함수적 인터페이스를 즉흥적으로 구현한 익명객체의 메소드를 사용하게 되는 것이다.</p>
<p>여기서 고민해볼게 생긴다.<br>재사용이 필요없고, 즉흥적으로 함수를 구현하기 위해서 익명객체를 생성하는것 까지는 넘어간다 하더라도, 일일이 구현해야 할 함수적 인터페이스를 만들어 줘야 하나?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">logString</span><span class="params">(String text)</span></span>&#123;</span><br><span class="line">  System.out.println(text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">logInt</span><span class="params">(Int value)</span></span>&#123;</span><br><span class="line">  System.out.println(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>만약 위 처럼 인자만 다르고 하는 일은 똑같은 함수를 구현하기위해 인터페이스를 두개나 만들어야 하는 것인가?<br>위와 같은 고민은 전혀 할 필요가 없다.<br>정답은 java.util.function 표준 API 패키지에 있다.<br>Java8에서는 기능적으로 분류된 자주 사용햘 만한 함수형 인터페이스를 API로 제공하고 있기때문에, 그냥 해당 API의 인터페이스를 입맛에 맞게 구현해서 사용하면 된다.</p>
<h1 id="기본으로-제공되는-함수적-인터페이스의-종류"><a href="#기본으로-제공되는-함수적-인터페이스의-종류" class="headerlink" title="기본으로 제공되는 함수적 인터페이스의 종류"></a>기본으로 제공되는 함수적 인터페이스의 종류</h1><table>
<thead>
<tr>
<th>종류</th>
<th>추상 메소드 특징</th>
<th>비고</th>
</tr>
</thead>
<tbody><tr>
<td>Consumer</td>
<td>매개값은 있고, 리턴값은 없음</td>
<td></td>
</tr>
<tr>
<td>Supplier</td>
<td>매개값은 없고, 리턴값은 있음</td>
<td></td>
</tr>
<tr>
<td>Function</td>
<td>매개값도 있고, 리턴값도 있음</td>
<td>주로 매개값을 연산하고 결과를 리턴</td>
</tr>
<tr>
<td>Operator</td>
<td>매개값도 있고, 리턴값도 있음</td>
<td>주로 매개값을 연산하고 결과를 리턴</td>
</tr>
<tr>
<td>Predicate</td>
<td>매개값은 있고, 리턴 값은 boolean</td>
<td>매개값을 조사하고 true/false를 리턴</td>
</tr>
</tbody></table>
<p>java.util.function에서 제공하는 인터페이스들은 위의 메소드 특징에 따라서 5형태의 카테고리로 나뉜다.<br>추상 메소드의 특징으로 인터페이스를 고른 뒤, 전달한 인자의 종류에 따라서 구체적인 인터페이스를 골라 사용하면 된다.</p>
<p>java.util.function 오라클 DOC<br><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html" target="_blank" rel="external nofollow noopener noreferrer">https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html</a></p>
<p>Doc문서에서 카테고리별로 정렬을 안해줘서, 보기가 좀 불편한데 인터페이스와 그 추상메소드는 굉장히 직관적이라 알기만 한다면 쉽게 사용할수 있다.</p>
<h2 id="Cunsunmer"><a href="#Cunsunmer" class="headerlink" title="Cunsunmer"></a>Cunsunmer</h2><p>인자를 받고 메소드에서 리턴없이 소모시킨다.<br>인자만 다를 뿐 추상 메소드명은 전부 accept인 것이 특징이다.</p>
<table>
<thead>
<tr>
<th>인터페이스명</th>
<th>추상 메소드</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>Consumer<t></t></td>
<td>void accept(T t)</td>
<td>객체 T를 받아 소비</td>
</tr>
<tr>
<td>BiConsumer&lt;T,U&gt;</td>
<td>void accept(T t, U u)</td>
<td>객체 T와 U를 받아 소비</td>
</tr>
<tr>
<td>DoubleConsumer</td>
<td>void accept(double value)</td>
<td>double 값을 받아 소비</td>
</tr>
<tr>
<td>intConsumer</td>
<td>void accept(int value)</td>
<td>int 값을 받아 소비</td>
</tr>
<tr>
<td>LongConsumer</td>
<td>void accept(long value)</td>
<td>long 값을 받아 소비</td>
</tr>
<tr>
<td>ObjDoubleConsumer<t></t></td>
<td>void accept(T t, double value)</td>
<td>객체 T와 double 값을 소비</td>
</tr>
<tr>
<td>ObjIntConsumer<t></t></td>
<td>void accept(T t, int value)</td>
<td>객체 T와 int 값을 받아 소비</td>
</tr>
<tr>
<td>ObjLongConsumer<t></t></td>
<td>void accept(T t, long value)</td>
<td>객체 T와 long 값을 받아 소비</td>
</tr>
</tbody></table>
<p>아래처럼 간단히 값을 출력하는 함수를 만들때 사용할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java_lamdba;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.BiConsumer;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CunsummerExample</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		Consumer&lt;String&gt; c1 = t -&gt;  System.out.println(t);</span><br><span class="line">		</span><br><span class="line">		c1.accept(<span class="string">"Consumer를 이용해서 로그를 찍어 봅시다."</span>);</span><br><span class="line">		</span><br><span class="line">		BiConsumer&lt;String, String&gt; c2 = (t, u) -&gt; &#123;</span><br><span class="line">			</span><br><span class="line">			String result = <span class="string">"Log:"</span> + t + u;</span><br><span class="line">			System.out.println(result);</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		c2.accept(<span class="string">"헛둘헛둘"</span>, <span class="string">"셋둘셋둘"</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Supplier"><a href="#Supplier" class="headerlink" title="Supplier"></a>Supplier</h2><p>인자가 없으며 리턴값이 존재 한다.<br>리턴하는 값의 타입에 따라 getXXX형태의 추상메소드를 갖는 것이 특징이다.</p>
<table>
<thead>
<tr>
<th>인터페이스명</th>
<th>추상 메소드</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>Supplier<t></t></td>
<td>T get()</td>
<td>T 객체를 리턴</td>
</tr>
<tr>
<td>BooleanSupplier</td>
<td>boolean getAsBoolean()</td>
<td>boolean 값을 리턴</td>
</tr>
<tr>
<td>DoubleSupplier</td>
<td>double getAsDouble()</td>
<td>double 값을 리턴</td>
</tr>
<tr>
<td>intSupplier</td>
<td>int getAsint()</td>
<td>int 값을 리턴</td>
</tr>
<tr>
<td>LongSupplier</td>
<td>long getAsLong()</td>
<td>long 값일 리턴</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java_lamdba;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.IntSupplier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SupplierExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		IntSupplier myAge = () -&gt; &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">32</span>;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"내 나이:"</span> + myAge.getAsInt());</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><p>이 인터페이스의 용도는 인자의 타입을 변형하여 새로운 타입으로 값을 리턴하는 것이다.<br>즉 일종의 형변환 전용 함수형 인터페이스가 되겠다.<br><strong>매개인자 타입과 리턴값의 타입이 다르다.</strong></p>
<table>
<thead>
<tr>
<th>인터페이스명</th>
<th>추상 메소드</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>Function&lt;T, R&gt;</td>
<td>R apply(T t)</td>
<td>객체 T를 객체 R로 매핑</td>
</tr>
<tr>
<td>BiFunction&lt;T,U,R&gt;</td>
<td>R apply(T t, U u)</td>
<td>객체 T와 U를 객체 R로 매핑</td>
</tr>
<tr>
<td>DoubleFunction<r></r></td>
<td>R apply(double value)</td>
<td>double을 객체 R로 매핑</td>
</tr>
<tr>
<td>intFunction<r></r></td>
<td>R apply(int value)</td>
<td>int를 객체 R로 매핑</td>
</tr>
<tr>
<td>intToDoubleFunction</td>
<td>double applyAsDouble(int value)</td>
<td>int를 double로 매핑</td>
</tr>
<tr>
<td>intToLongFunction</td>
<td>long applyAsLong(int value)</td>
<td>int를 long로 매핑</td>
</tr>
<tr>
<td>LongToDoubleFunction</td>
<td>double applyAsDouble(long value)</td>
<td>long을 doube로 매핑</td>
</tr>
<tr>
<td>LongToIntFunction</td>
<td>int applyAsInt(long value)</td>
<td>long을 int로 매핑</td>
</tr>
<tr>
<td>ToDoubleBiFunction&lt;T,U&gt;</td>
<td>double applyAsDouble(T t, U u)</td>
<td>객체 T와 U를 double로 매핑</td>
</tr>
<tr>
<td>ToDoubleFunction<t></t></td>
<td>double applyAsDouble(T value)</td>
<td>객체 T를 double로 매핑</td>
</tr>
<tr>
<td>ToIntBiFunction&lt;T,U&gt;</td>
<td>int applyAsInt(T t, U u)</td>
<td>객체 T와 U를 int로 매핑</td>
</tr>
<tr>
<td>ToIntFunction<t></t></td>
<td>int applyAsInt(T value)</td>
<td>객체 T를 int로 매핑</td>
</tr>
<tr>
<td>ToLongBiFunction&lt;T,U&gt;</td>
<td>long applyAsLong(T t, u)</td>
<td>객체 T와 U를 long으로 매핑</td>
</tr>
<tr>
<td>ToLongFunction<t></t></td>
<td>long applyAsLong(T value)</td>
<td>객체 T를 long으로 매핑</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java_lamdba;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FunctionExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		Function&lt;Human, String&gt; f1 = t -&gt; t.name;</span><br><span class="line">		System.out.println(f1.apply(<span class="keyword">new</span> Human()));</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> age = <span class="number">32</span>;</span><br><span class="line">	<span class="keyword">public</span> String name = <span class="string">"hanumoka"</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Operator"><a href="#Operator" class="headerlink" title="Operator"></a>Operator</h2><p>Function과 동일한 형태의 applyXXX라는 메소드를 가지고 있다.<br>하지만 매개값의 타입변환의 역활보다 <strong>매개값을 이용하여 연산을 수생한 후 동일한 타입으로 리턴값</strong>을 제공하는 역할을 한다.<br><strong>매개인자의 타입과 리턴값의 타입이 동일</strong></p>
<table>
<thead>
<tr>
<th>인터페이스명</th>
<th>추상 메소드</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>BinaryOperator<t></t></td>
<td>T apply(T t1, T t2)</td>
<td>동일한 타입의 t1, t2를 연산후 T를 리턴</td>
</tr>
<tr>
<td>UnaryOperator<t></t></td>
<td>T apply(T)</td>
<td>T를 연산한 후 T를 리턴</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java_lamdba;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.BinaryOperator;</span><br><span class="line"><span class="keyword">import</span> java.util.function.UnaryOperator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Operator1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		BinaryOperator&lt;Integer&gt; b1 = (t, u) -&gt;&#123;</span><br><span class="line">			<span class="keyword">return</span> (t * u);</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		System.out.println(b1.apply(<span class="number">3</span>, <span class="number">10</span>));</span><br><span class="line">		</span><br><span class="line">		UnaryOperator&lt;Integer&gt; u1 = (t)-&gt;&#123;</span><br><span class="line">			<span class="keyword">return</span> t + <span class="number">1</span>;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="number">32</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>인터페이스명</th>
<th>추상 메소드</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>DoubleBinaryOperator</td>
<td>double applyAsDouble(double, double)</td>
<td>두개의 double 연산 후 double 리턴</td>
</tr>
<tr>
<td>DoubleUnaryOperator</td>
<td>double applyAsDouble(double)</td>
<td>한 개의 double 연산후 double리턴</td>
</tr>
<tr>
<td>intBinaryOperator</td>
<td>int applyAsInt(int, int)</td>
<td>두 개의 int 연산후 int 리턴</td>
</tr>
<tr>
<td>intUnaryOperator</td>
<td>int applyAsInt(int)</td>
<td>한개의 int연산후 int리턴</td>
</tr>
<tr>
<td>LongBinaryOperator</td>
<td>long applyAsLong(long, long)</td>
<td>두개의 long 연산후 long 리턴</td>
</tr>
<tr>
<td>LongUnaryOperator</td>
<td>long applyAsLong(long)</td>
<td>한 개의 long 연산후 long리턴</td>
</tr>
</tbody></table>
<h2 id="Predicate"><a href="#Predicate" class="headerlink" title="Predicate"></a>Predicate</h2><p>Prediacate는 매개 값을 이용하여 true, false를 리턴한다.</p>
<table>
<thead>
<tr>
<th>인터페이스명</th>
<th>추상 메소드</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>Predicate<t></t></td>
<td>boolean test(T t)</td>
<td>객체 T를 통해 boolean리턴</td>
</tr>
<tr>
<td>BiPredicate&lt;T,U&gt;</td>
<td>boolean test(T t, U u)</td>
<td>객체 T와 U를 통해 통해 boolean리턴</td>
</tr>
<tr>
<td>DoublePredicate</td>
<td>boolean test(double value)</td>
<td>double 값을 통해 boolean리턴</td>
</tr>
<tr>
<td>intPredicate</td>
<td>boolean test(int value)</td>
<td>int값을 통해 boolean 리턴</td>
</tr>
<tr>
<td>LongPredicate</td>
<td>boolean test(long value)</td>
<td>long값을 통해 booean 리턴</td>
</tr>
</tbody></table>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/23/node-20181123-express-setting-sequelize/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/23/node-20181123-express-setting-sequelize/" class="post-title-link" itemprop="url">Node Express에 sequelize를 이용해 mysql접속하기</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-23 17:01:37" itemprop="dateCreated datePublished" datetime="2018-11-23T17:01:37+09:00">2018-11-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:12" itemprop="dateModified" datetime="2020-04-16T01:50:12+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>Express 프로젝트에 sequelize(시퀄라이저)를 이용하여 로컬에 있는 mysql에 접속하는 예제를 정리해본다.</p>
<p>미리 로컬에 mysql을 설치하고, 스키마와 계정을 생성 해놨다.</p>
<h1 id="테스트용-Express-프로젝트-생성하기"><a href="#테스트용-Express-프로젝트-생성하기" class="headerlink" title="테스트용 Express 프로젝트 생성하기"></a>테스트용 Express 프로젝트 생성하기</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">express backend --view=pug</span><br></pre></td></tr></table></figure>

<p>위 명령어로 express 프로젝트를 생성한다.</p>
<h1 id="시퀄라이저-sequelize-란"><a href="#시퀄라이저-sequelize-란" class="headerlink" title="시퀄라이저(sequelize)란"></a>시퀄라이저(sequelize)란</h1><p>promise기반 Node.js환경의 ORM(Object-relational Mapping)이다.</p>
<p>이것을 통해 Exrpess와 MariaDB, PostgreSQL, SQLite, MSSQL등과 연동이 가능하다.</p>
<p>내가 알고 있던 Mybatis와 같은 ORM과는 약간 DB에 대한 접근방식이 다르다.</p>
<p>Mybatis같은 경우 sql 쿼리를 xml로 관리하고, 이 파일을 이용하여 DB의 entity와 자바의 객체를 맵핑하는 방법으로 DB에 접근한다.</p>
<p>Express서버의 시퀄라이저 설정으로 DB의 entity와 entity간의 관계를 javascript로 선언하고, Express에서 시퀄라이저 문법을 통해서 DB에 접근한다.</p>
<p>Mybatis에 익숙한 나에게는 굉장히 낮선 방식이다.</p>
<h2 id="시퀄라이저의-특징"><a href="#시퀄라이저의-특징" class="headerlink" title="시퀄라이저의 특징"></a>시퀄라이저의 특징</h2><p>1.DB Entity정의를 시퀄라이저의 model(js파일)로 정의할수 있다.<br>2.DB의 Entity의 관계역시 시퀄라이저에서 정의할수 있다.<br>3.Express에서 시퀄라이저의 Model을 이용하여 DB의 entity에 접근 하여 CRUD등을 할 수 있다.<br>4.Express 서버에서 시퀄라이저에 선언된 Entity정의와 그 관계정의(테이블간 fk등…)을 이용하여 서버에 테이블과 그 관계를 생성할수 있다.</p>
<p>여기서 애매한 것이 4번인데, 예를들어 Express서버를 실행할때 시퀄라이저에 선언된 DB의 model정보를 통해 DB에 테이블을 생성하고 그 Model간의 관계까지 생성할수 있다.<br>즉 개발자가 DB에 접근하여 DDL을 직접 날려 테이블을 생성하는 것이 아니라, 서버에 DB설계를 시퀄라이저를 통해 하고 서버가 start할때마다 DB에 그 내용을 반영 할수 있는 것이다.</p>
<p>이것은 어떻게 보면 굉장히 편리한 방법일수도 있지만, 특히 개인프로젝트인 경우에는 더더욱…<br>하지만 팀으로 개발을 하거나, DB설계를 ERD를 이용하여 하는 경우 필요 없는 기능이라 생각된다.</p>
<h1 id="Express서버에-시퀄라이저-sequelize-연동하기"><a href="#Express서버에-시퀄라이저-sequelize-연동하기" class="headerlink" title="Express서버에 시퀄라이저(sequelize) 연동하기"></a>Express서버에 시퀄라이저(sequelize) 연동하기</h1><p>Express 프로젝트 폴더인 backend폴더에 cmd로 이동하여 아래 명령어로 시퀄라이저를 설치하고 시퀄라이저 초기화 셋팅을 하자.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i sequelize mysql2</span><br><span class="line">npm i -g sequelize-cli</span><br><span class="line">sequelize init</span><br></pre></td></tr></table></figure>

<p>현재 나는 Express프로젝트인 backend폴더에서 위 명령어로 필요한 모듈을 설치하고 마지막 sequelize init명령어를 통해서 express 서버에 sequelize환경을 셋팅한다.</p>
<p>sequelize init명령어를 실행하면 프로젝트 폴더에서 config, models, migrations, seeders 폴더라 생성된다.</p>
<p><img src="/images/20181123-express-setting-sequelize_1.png" alt="sequelize init 실행결과로 생성된 폴더"></p>
<p>여기에서 시퀄라이저의 기본적인 동작 과정을 집고 넘어가자.</p>
<p><img src="/images/20181123-express-setting-sequelize_2.png" alt="Express와 sequelize연동시 동작과정"></p>
<p>크게 1번과, 2번 루트로 나눌수 있다.</p>
<p>1번일경우 DB의 스키마 엔티티관리를 고전적인? 방법으로 DB에서 관리 할때</p>
<p>2번일 경우 DB의 스키마 엔티티관리를 Express서버에서 models폴더에 js파일로 선언한 엔티티(테이블)와 그 관계들(테이블간 1:1, 1:n, n:M관계)를 읽어서 DB 스키마에 적용한다.</p>
<p>2번일 경우 express서버가 시작될때 추가 옵션을 통해서 DB 스키마를 깨끗이 지우고(테이블과 그 관계등을), 시퀄라이저에서 js파일로 선언된 엔티티로 테이블과 그 관계를 성성할수 있다.</p>
<p>즉 DB 스키마 관리를 express내부에서 자바스크립트로 관리 할수 있다는 장점이 있다.</p>
<p>그러나, 난 꼰대라서 DB는 분리해서 entity를 관리하는것아 편하다. </p>
<p>ERD로 DB를 설계하는 것이 편하기 때문이다.</p>
<h2 id="1번-방법-시퀄라이저-연동-시퀄라이저에서-DB-Entity를-관리하는-방식"><a href="#1번-방법-시퀄라이저-연동-시퀄라이저에서-DB-Entity를-관리하는-방식" class="headerlink" title="1번 방법 시퀄라이저 연동(시퀄라이저에서 DB Entity를 관리하는 방식)"></a>1번 방법 시퀄라이저 연동(시퀄라이저에서 DB Entity를 관리하는 방식)</h2><p>config/config.json 파일은 시퀄라이저가 DB에 접근하는 정보를 저장한다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"development"</span>: &#123;</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"hanumoka"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="string">"password"</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"band_of_coder"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"dialect"</span>: <span class="string">"mysql"</span>,</span><br><span class="line">    <span class="attr">"operatorsAliases"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"test"</span>: &#123;</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"root"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"database_test"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"dialect"</span>: <span class="string">"mysql"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"production"</span>: &#123;</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"root"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"database_production"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"dialect"</span>: <span class="string">"mysql"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>나는 위처럼 development에 로컬 mysql 정보를 입력했다.<br>이 파일은 접근할 DB 접건정보 뿐만 아니라 define이라는 시퀄라이저 부가옵션을 추가적으로 줄 수도 있다.</p>
<p>models/index.js 파일을 아래처럼 수정하자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> Sequelize = <span class="built_in">require</span>(<span class="string">'sequelize'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> env = process.env.NODE_ENV || <span class="string">'development'</span>;</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(path.join(__dirname, <span class="string">'..'</span>, <span class="string">'config'</span>, <span class="string">'config.json'</span>))[env];</span><br><span class="line"><span class="keyword">const</span> db = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sequelize = <span class="keyword">new</span> Sequelize(config.database, config.username, config.password, config);</span><br><span class="line"></span><br><span class="line">db.sequelize = sequelize;</span><br><span class="line">db.Sequelize = Sequelize;</span><br><span class="line"></span><br><span class="line"><span class="comment">//모델정보를 읽어온다.</span></span><br><span class="line">db.User = <span class="built_in">require</span>(<span class="string">'./user'</span>)(sequelize, Sequelize);</span><br><span class="line">db.Comment = <span class="built_in">require</span>(<span class="string">'./comment'</span>)(sequelize, Sequelize);</span><br><span class="line"></span><br><span class="line"><span class="comment">//모델간의 관계를 정의한다.</span></span><br><span class="line">db.User.hasMany(db.Comment, &#123; <span class="attr">foreignKey</span>: <span class="string">'commenter'</span>, <span class="attr">sourceKey</span>: <span class="string">'id'</span> &#125;);</span><br><span class="line">db.Comment.belongsTo(db.User, &#123; <span class="attr">foreignKey</span>: <span class="string">'commenter'</span>, <span class="attr">targetKey</span>: <span class="string">'id'</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = db;</span><br></pre></td></tr></table></figure>

<p>위 모델관계는 user : comment = 1:N 관계정의이다.</p>
<p>1:1, 1:n, n:m관계등을 정의 가능하며, 이렇게 정의한 것들을 express서버가 동작할때 DB에 DDL로 적용할수 있다.</p>
<p>자세한 내용은 시퀄라이저 공식문서를 참고하자.</p>
<p>models/user.js 파일은 아래와 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">sequelize, DataTypes</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> sequelize.define(<span class="string">'user'</span>, &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">      type: DataTypes.STRING(<span class="number">20</span>),</span><br><span class="line">      allowNull: <span class="literal">false</span>,</span><br><span class="line">      unique: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    age: &#123;</span><br><span class="line">      type: DataTypes.INTEGER.UNSIGNED,</span><br><span class="line">      allowNull: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    married: &#123;</span><br><span class="line">      type: DataTypes.BOOLEAN,</span><br><span class="line">      allowNull: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    comment: &#123;</span><br><span class="line">      type: DataTypes.TEXT,</span><br><span class="line">      allowNull: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    created_at: &#123;</span><br><span class="line">      type: DataTypes.DATE,</span><br><span class="line">      allowNull: <span class="literal">false</span>,</span><br><span class="line">      defaultValue: sequelize.literal(<span class="string">'now()'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    timestamps: <span class="literal">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>models/comment.js 파일은 아래와 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">sequelize, DataTypes</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> sequelize.define(<span class="string">'comment'</span>, &#123;</span><br><span class="line">    comment: &#123;</span><br><span class="line">      type: DataTypes.STRING(<span class="number">100</span>),</span><br><span class="line">      allowNull: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    created_at: &#123;</span><br><span class="line">      type: DataTypes.DATE,</span><br><span class="line">      allowNull: <span class="literal">true</span>,</span><br><span class="line">      defaultValue: sequelize.literal(<span class="string">'now()'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    timestamps: <span class="literal">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>models/user.js와 models/comment.js는 DB의 엔티티 즉, 테이블을 정의 하는 것이다.</p>
<p>데이터 타입, key, not null등 다양한 기능들을 시퀄라이저 문법을 통해 정의 해야 한다.<br>ORM을 위해 시퀄라이저에서 엔티티를 정의하는 문법을 새로 배워야 한다는 것은, 좀 문제가 있다고 본다.</p>
<p>이것은 2번 방법에서 좀더 나은방법으로 해결해보자.</p>
<p>시퀄라이저의 자세한 문법은 구글에서 공식페이지에서 확인해보길 바란다.</p>
<p>Express프로젝트의 app.js폴더로 이동해서 시퀄라이저를 등록하자.</p>
<p>아래 내용을 app.js에 추가하자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sequelize = <span class="built_in">require</span>(<span class="string">'./models'</span>).sequelize;   <span class="comment">// mysql 시퀄라이저 모델</span></span><br><span class="line">sequelize.sync();    <span class="comment">//서버가 실행될때 시퀄라이저의 스키마를 DB에 적용시킨다.</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/20181123-express-setting-sequelize_3.png" alt="app.js에 시퀄라이저 적용"></p>
<p>위 두줄의 명령으로인해, express 프로젝트가 start될때 시퀄라이저 models/index.js와 models/user.js, models/comment.js를 이용하여 DB 스키마에 테이블과 그 관계를 DDL로 생선한다.</p>
<p>그럼 한번 express start를 시작해보자.</p>
<p><img src="/images/20181123-express-setting-sequelize_4.png" alt="깨끗한 DB상황"></p>
<p>위를 보면 현재 테이블이 하나도 없는 것이 보인다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEBUG=backend:* npm start</span><br></pre></td></tr></table></figure>

<p>위 명령어를 실행하자.</p>
<p><img src="/images/20181123-express-setting-sequelize_5.png" alt="express 실행결과"></p>
<p>서버가 실행되면서 Create table등의 로그가 보일것이다. </p>
<p>sequelize.sync();가 동작하면서 앞서 시퀄라이저로 정의한 것들이 DB에 테이블따위로 생성되는 것이다.</p>
<p>다시 DB를 확인해보자.</p>
<p><img src="/images/20181123-express-setting-sequelize_6.png" alt="생성된 테이블 확인"></p>
<p>위처럼 models폴더에 js파일로 선언한 시퀄라이저 엔티티가 DB에 테이블로 생성된 것을 확인 할 수 있다.</p>
<p>주의할점은 시퀄라이저가 생성한 table명을 보면 뒤에 s가 붙어있다. 즉 model명의 복수형태로 테이블을 만든다.</p>
<p>일단 테스트를 위해 user테이블에 더미데이터를 하나 추가하고 pug에서 조회해 보자.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">users</span></span><br><span class="line"><span class="keyword">values</span>(<span class="string">'1'</span>, <span class="string">'hanumoka'</span>, <span class="number">32</span>, <span class="literal">false</span>, <span class="string">'코딩은 재밌어'</span>, <span class="keyword">now</span>());</span><br></pre></td></tr></table></figure>

<p>/routes/userManager.js 파일을 생성하자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> User = <span class="built_in">require</span>(<span class="string">'../../models'</span>).User;</span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/'</span>, <span class="keyword">async</span>(req, res, next) =&gt;&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> users = <span class="keyword">await</span> User.findAll();  </span><br><span class="line">    res.render(<span class="string">'userManager'</span>, &#123;users&#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line">    next(error);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure>

<p>require로 models에 접근해 User라는 모델을 가져온다.<br>User의 첫걸자가 대문자인것을 주의하자.<br>시퀄라이저는 promise, async 방식 두가지 방법을 지원하며 위 예제는 ansyc방식의 전체 조회예제이다.</p>
<p>아래는 userManager.pug 파일이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">doctype html</span><br><span class="line">html</span><br><span class="line">  head</span><br><span class="line">    meta(charset&#x3D;&#39;utf-8&#39;)</span><br><span class="line">    title 시퀄라이즈 서버</span><br><span class="line">    style.</span><br><span class="line">      table &#123;</span><br><span class="line">        border: 1px solid black;</span><br><span class="line">        border-collapse: collapse;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      table th, table td &#123;</span><br><span class="line">        border: 1px solid black;</span><br><span class="line">      &#125;</span><br><span class="line">  body</span><br><span class="line">    table#user-list</span><br><span class="line">      thead</span><br><span class="line">        tr</span><br><span class="line">          th ID</span><br><span class="line">          th 이름</span><br><span class="line">      tbody</span><br><span class="line">        for user in users</span><br><span class="line">          tr</span><br><span class="line">            td&#x3D; user.id</span><br><span class="line">            td&#x3D; user.name</span><br><span class="line">    br</span><br></pre></td></tr></table></figure>

<p>express의 app.js에 라우터 routes/userManager.js를 등록하자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userManagerRouter = <span class="built_in">require</span>(<span class="string">'./routes/backend_pug/userManager'</span>);</span><br><span class="line">app.use(<span class="string">'/usermanager'</span>, userManagerRouter);</span><br></pre></td></tr></table></figure>

<p>그리고 서버를 재시작후 url로 접근하면 다음과 같이 조회되는것을 확인 할수 있다.</p>
<p><img src="/images/20181123-express-setting-sequelize_7.png" alt="생성된 테이블 확인"></p>
<p>지금까지 간단하게 Express와 시퀄라이저를 연동해서 mysql에 테이블을 조회하는 예제를 진행해 보았다.</p>
<p>하지만 서버에서 엔티티를 관리하고 생성하는 방법은 개인적으로 불편해서 2번방법을 생각해 보았다.</p>
<h2 id="2번-방법-진화된-시퀄라이저-연동-DB는-DB에서-따로-관리하는-방식"><a href="#2번-방법-진화된-시퀄라이저-연동-DB는-DB에서-따로-관리하는-방식" class="headerlink" title="2번 방법 진화된 시퀄라이저 연동(DB는 DB에서 따로 관리하는 방식)"></a>2번 방법 진화된 시퀄라이저 연동(DB는 DB에서 따로 관리하는 방식)</h2><p>1번 방법처럼 Expess에서 시퀄라이저를 이용하여 엔티티를 생성하고 그 관계를 만들어서 프로젝트 개발과 DB를 통합으로 개발 관리하는것은 일견 유용해보인다.</p>
<p>하지만 보편적으로 팀으로 프로젝트를 개발하고, DB는 DBA나 별도 관리자가 따로 관리할 것이다.</p>
<p>개인적으로 가장큰 문재는 ERD로 DB를 설계하는 것이 편한데, 1번 방법일 경우 ERD를 개발에 쓰기가 어렵다는 것이다.</p>
<p>그리고 시퀄라이저에서 엔티티를 생성하기 위한 모델정의 문법을 따로 배워야 한다는 것은…. 뭔가 영양가가 없어보이는 공부라고 생각되었다.</p>
<p>2번 방법으로 연동한 express sequelize연동 환경에서 개발프로세스는 다음과 같다.</p>
<ol>
<li>1번 방법에서는 express서버가 실행될 때 sequelize모델을 DB에 생성했지만, 이것을 제거한다. 즉 DB스키마는 Express에서 건드리지 않는다.</li>
<li>1번 방법에서는 models폴더에 각각 테이블이 될 model들을 js파일로 생성했지만, 거꾸로 DB에서 그정보를 읽어 자동으로 js파일을 생성한다.(sequelize-auto)</li>
<li>workbench를 이용하여 ERD를 생성하고 DB스키마는 ERD로 생성관리한다.</li>
<li>테이블명과 필드명은 underscore를 사용한다.</li>
</ol>
<p>하나하나 실습으로 해보자.</p>
<h3 id="workbench로-ERD로-DB-스키마-정의"><a href="#workbench로-ERD로-DB-스키마-정의" class="headerlink" title="workbench로 ERD로 DB 스키마 정의"></a>workbench로 ERD로 DB 스키마 정의</h3><p>일단 기존 테이블을 다 drop 하고 다음처럼 ERD를 간단하게 만들었다.</p>
<p><img src="/images/20181123-express-setting-sequelize_8.png" alt="예제 ERD"></p>
<p>workbench로 ERD를 만드는 방법은 구글링을 하길 바란다.</p>
<p>database-forward to Database를 이용해서 ERD를 이용해 테이블을 생성했다.</p>
<p><img src="/images/20181123-express-setting-sequelize_9.png" alt="ERD로 생성된 테이블"></p>
<h3 id="Express가-시작될-때-table생성-못하게-설정"><a href="#Express가-시작될-때-table생성-못하게-설정" class="headerlink" title="Express가 시작될 때 table생성 못하게 설정"></a>Express가 시작될 때 table생성 못하게 설정</h3><p>간단하다.</p>
<p>Express의 app.js에 위에서 설정한 시퀄라이저 부분을 다 제거하자.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//var sequelize = require('./models').sequelize;   // mysql 시퀄라이저 모델</span></span><br><span class="line"><span class="comment">//sequelize.sync();    //서버가 실행될때 시퀄라이저의 스키마를 DB에 적용시킨다.</span></span><br></pre></td></tr></table></figure>

<p>난 위처럼 둘다 주석처리 했다.<br>이제 Express가 시작될 때 DB 스키마를 건드리는 걱정을 안해도 된다.</p>
<h3 id="DB-테이블을-자동으로-models폴더에-js파일로-생성하기"><a href="#DB-테이블을-자동으로-models폴더에-js파일로-생성하기" class="headerlink" title="DB 테이블을 자동으로 models폴더에 js파일로 생성하기."></a>DB 테이블을 자동으로 models폴더에 js파일로 생성하기.</h3><p>sequelize-auto라는 라이브러리를 사용하면 된다.<br><a href="https://github.com/sequelize/sequelize-auto" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/sequelize/sequelize-auto</a></p>
<p>express 프로젝트에 sequelize-auto를 설치하자.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g sequelize-auto</span><br><span class="line">npm install -g mysql</span><br></pre></td></tr></table></figure>

<p>그리도 다음과 같은 형태의 명령으로 현재 mysql 로컬 DB의 테이블을 이용하여 시퀄라이저 models폴더에 js들을 자동으로 생성할수 있다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sequelize-auto -o "./models" -d sequelize_auto_test -h localhost -u my_username -p 5432 -x my_password -e postgres</span><br></pre></td></tr></table></figure>

<p>내 로컬의 경우 다음과 같다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sequelize-auto -o "./models" -d band_of_coder -h localhost -u hanumoka -p 3306 -x password -e mysql</span><br></pre></td></tr></table></figure>

<p><img src="/images/20181123-express-setting-sequelize_10.png" alt="sequelize-auto 실형결과1"></p>
<p>models폴더에 index.js파일 하나뿐이 없는 상태에서 위 명령어를 실행 했다.<br>로그에서 무언가 쿼리같은것이 실행되는 것을 확인 할 수 있다.</p>
<p><img src="/images/20181123-express-setting-sequelize_11.png" alt="sequelize-auto 실형결과2"></p>
<p>위처럼 자동으로 user.js, user_post.js 파일이 자동으로 models폴더 내부에 생성된 것을 확인 할수 있다.</p>
<p>DB스키마 관리는 그냥 기존의 SQL, workbench, erd등으로 관리하고 sequelize-auto라이브러리를 이용하여 시퀄라이저의 문법을 공부할 필요가 없어진다.</p>
<h3 id="sequelize-models-index-js-업그레이드"><a href="#sequelize-models-index-js-업그레이드" class="headerlink" title="sequelize models/index.js 업그레이드"></a>sequelize models/index.js 업그레이드</h3><p>models/index.js 파일은 시퀄라이저 핵심 엔트리 파일이다.</p>
<p>자동으로 models폴더를 읽어서 js파일을 적재할수 있게 수정하자.</p>
<p>수정된 models/index.js 파일은 다음과 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> Sequelize = <span class="built_in">require</span>(<span class="string">'sequelize'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> env = process.env.NODE_ENV || <span class="string">'development'</span>;</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(path.join(__dirname, <span class="string">'..'</span>, <span class="string">'config'</span>, <span class="string">'config.json'</span>))[env];</span><br><span class="line"><span class="keyword">const</span> db = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sequelize = <span class="keyword">new</span> Sequelize(config.database, config.username, config.password, config);</span><br><span class="line"></span><br><span class="line">fs</span><br><span class="line">  .readdirSync(__dirname)</span><br><span class="line">  .filter(<span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (file.indexOf(<span class="string">"."</span>) !== <span class="number">0</span>) &amp;&amp; (file !== <span class="string">"index.js"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .forEach(<span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> model = sequelize.import(path.join(__dirname, file));</span><br><span class="line">    db[model.name] = model;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'model.name:'</span> + model.name);  <span class="comment">// 테스트로그 model명..</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(db).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">modelName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"associate"</span> <span class="keyword">in</span> db[modelName]) &#123;</span><br><span class="line">    db[modelName].associate(db);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">db.sequelize = sequelize;</span><br><span class="line">db.Sequelize = Sequelize;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = db;</span><br></pre></td></tr></table></figure>

<h3 id="시퀄라이저-config-config-json-수정"><a href="#시퀄라이저-config-config-json-수정" class="headerlink" title="시퀄라이저 config/config.json 수정"></a>시퀄라이저 config/config.json 수정</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"development"</span>: &#123;</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"hanumoka"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="string">"password"</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"band_of_coder"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"dialect"</span>: <span class="string">"mysql"</span>,</span><br><span class="line">    <span class="attr">"operatorsAliases"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"define"</span>: &#123;</span><br><span class="line">        <span class="attr">"timestamps"</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"underscored"</span> : <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"test"</span>: &#123;</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"root"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"database_test"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"dialect"</span>: <span class="string">"mysql"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"production"</span>: &#123;</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"root"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"database_production"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"dialect"</span>: <span class="string">"mysql"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>define을 추가했다. timestamps가 true이면 시퀄라이저가 생성하는 DDL, DML에 createAt, updateAt, deleteAt 컬럼들을 자동으로 생성한다.<br>난 필요가 없어 제거했다.</p>
<p>그리고 테이블명과 컬럼명을 스네이크케이스로 선언하므로 underscored를 true로 선언했다.<br>사실 현재는 필요없는 설정이다. 이 설정은 시퀄라이저가 DB에 DDL을 날릴때 적용되는 옵션같다.<br>DML에서는 필요없는듯…</p>
<p>/routes/userManager.js 파일을 다음과 같이 조금 수정</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> userModel = <span class="built_in">require</span>(<span class="string">'../../models'</span>).user;</span><br><span class="line"><span class="comment">//var User = require('../../models').User;</span></span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/'</span>, <span class="keyword">async</span>(req, res, next) =&gt;&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> users = <span class="keyword">await</span> userModel.findAll();</span><br><span class="line">    res.render(<span class="string">'userManager'</span>, &#123;users&#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line">    next(error);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure>

<p>model require부분만 조금 수정되었다. 이번에는 user가 모두 소문자인것을 주의하자.</p>
<p>userManager.pug 아주 조금 수정 id대신 email로 변경</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">doctype html</span><br><span class="line">html</span><br><span class="line">  head</span><br><span class="line">    meta(charset&#x3D;&#39;utf-8&#39;)</span><br><span class="line">    title 시퀄라이즈 서버</span><br><span class="line">    style.</span><br><span class="line">      table &#123;</span><br><span class="line">        border: 1px solid black;</span><br><span class="line">        border-collapse: collapse;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      table th, table td &#123;</span><br><span class="line">        border: 1px solid black;</span><br><span class="line">      &#125;</span><br><span class="line">  body</span><br><span class="line">    table#user-list</span><br><span class="line">      thead</span><br><span class="line">        tr</span><br><span class="line">          th email</span><br><span class="line">          th 이름</span><br><span class="line">      tbody</span><br><span class="line">        for user in users</span><br><span class="line">          tr</span><br><span class="line">            td&#x3D; user.email</span><br><span class="line">            td&#x3D; user.name</span><br><span class="line">    br</span><br></pre></td></tr></table></figure>

<p>서버를 실행하고 그 결과를 확인해보자.</p>
<p><img src="/images/20181123-express-setting-sequelize_12.png" alt="2번방법 시퀄라이저연동 최종결과"></p>
<p>데이터가 없어서 조회결과는 없지만, 정상동작하는 것을 확인 할 수 있다.</p>
<p>로그에서도 model.name이 잘 나온다.</p>
<p>그리고 조회 했을때 select 쿼리도 잘 찍히는 것을 확인 할 수 있다.</p>
<h3 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h3><p>대충 시퀄라이저를 내 입맛에 맞게 수정했다.<br>아직 남아있는 것은 2번 시퀄라이저 연동환경에서 테이블관의 관계, 즉 엔티티의 관계도 자동으로 설정되었으면 좋겠는데… 이건 아직 테스트를 안해보았다.</p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/16/atom-20181116-atom-hide-wrap-guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/16/atom-20181116-atom-hide-wrap-guide/" class="post-title-link" itemprop="url">Atom 세로선 제거하기(disable wrap-guide)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-16 15:24:32" itemprop="dateCreated datePublished" datetime="2018-11-16T15:24:32+09:00">2018-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/atom/" itemprop="url" rel="index">
                    <span itemprop="name">atom</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <!-- TOC -->

<ul>
<li><a href="#들어가기">들어가기</a></li>
<li><a href="#세로선-제거하기">세로선 제거하기</a></li>
<li><a href="#마무리">마무리</a></li>
<li><a href="#참고-사이트">참고 사이트</a></li>
</ul>
<!-- /TOC -->

<h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>atom에디터에서 왜있는지 영문을 모를 세로선의 이름은 wrap-guide라고 한다.</p>
<p><img src="/images/20181116-atom-hide-wrap-guide_1.png" alt="이렇게 글씨가 wrap-guide에 겹쳐 보인다."></p>
<p>음 해상도가 높아서 잘 안보이네.</p>
<p>그렇다면</p>
<p>atom툴에서 File - Stylesheet눌러 stylee.less 파일을 열어 맨아래에</p>
<p>다음을 추가하여 더 강력한 세로선을 셋팅할수 있다.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">atom-text-editor</span> <span class="selector-class">.wrap-guide</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/20181116-atom-hide-wrap-guide_2.png" alt="아 세로선에 뿅간다."></p>
<p>이 시야를 가리는 wrap-guide가 무슨 용도인지 찾아보니.</p>
<p>코드가 가로로 너무 길어지는 것을 경계하라는 경계선이라고 한다.</p>
<p>디폴트로 가로 80 column(패키지에서 변경이 가능해보인다.)되어 있으며, wrap-guide 패키지 github에는 심지어 Don’t corss the line 이라고 적혀있다.</p>
<p><img src="/images/20181116-atom-hide-wrap-guide_3.png" alt="atom wrap-package 깃허브페이지"></p>
<p>하지만 구글에서도 보니 많은 사람이 눈에 거슬리는지 불편해 하고 있다. ㅋㅋㅋㅋ</p>
<h1 id="세로선-제거하기"><a href="#세로선-제거하기" class="headerlink" title="세로선 제거하기"></a>세로선 제거하기</h1><p>atom툴에서 File - Stylesheet눌러 stylee.less 파일에 아래 코드를 추가해서 세로선을 숨기는 방법이 있기도 하지만…</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">atom-text-editor</span><span class="selector-pseudo">::shadow</span> &#123;</span><br><span class="line">    .wrap-guide &#123;</span><br><span class="line">        <span class="selector-tag">visibility</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>wrap-guide는 atom 패키지이므로 이 패키지를 꺼버리면 된다.</p>
<p>atom에서 <strong>Ctrl + ,</strong> 를 눌러 Settings로 이동하여 Packages탭을 선택한 뒤, wrap-guide를 검색하여 disabled하면 된다.</p>
<p><img src="/images/20181116-atom-hide-wrap-guide_4.png" alt="atom wrap-package 깃허브페이지"></p>
<h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>응 난 그냥 둘래. 귀가 얇거든… 팔락 팔락</p>
<h1 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h1><p><a href="https://atom.io/packages/wrap-guide" target="_blank" rel="external nofollow noopener noreferrer">https://atom.io/packages/wrap-guide</a><br><a href="https://discuss.atom.io/t/what-is-this-vertical-line-running-through-my-code/6774/3" target="_blank" rel="external nofollow noopener noreferrer">https://discuss.atom.io/t/what-is-this-vertical-line-running-through-my-code/6774/3</a></p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/16/java-20181116-java-lambda/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/16/java-20181116-java-lambda/" class="post-title-link" itemprop="url">java8 - 람다식(Lamdba Expressions) 개념정리</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-16 13:11:49" itemprop="dateCreated datePublished" datetime="2018-11-16T13:11:49+09:00">2018-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="람다식이란"><a href="#람다식이란" class="headerlink" title="람다식이란"></a>람다식이란</h1><p>이 람다식은 수학자 알론조(Alonzo Church)가 발표한 람다 계산법에서 사용된 식으로, 이를 제자 존 매카시(John Macarthy)가 프로그래밍 언어에 도입했다.</p>
<p>Java8 버전부터 이 림다식(Lamdba Expressions)을 지원하게 되었다.</p>
<p>람다식은 익명함수(anonymouse function)을 생성하기 위한 식으로 객체 지향 언어보다는 함수 지향 언어에 가깝다.</p>
<p>람다식의 형태는 매개변수를 가진 코드 블록이지만, 런타임 시에는 익명 구현 객체(추상메소드를 한개 포함한)를 생성한다.</p>
<p><strong>람다식 -&gt; 매개 변수를 가진 코드 블록 -&gt; 익명 구현 객체</strong></p>
<p>위 설명처럼 람다식이란 일종의 함수형 프로그래밍에 적합한 문법적 표현방식이다. 그리고 이 람다 문법은 자바 뿐만아니라 스칼라와 같은 다른 언어에서도 지원하고 있다.</p>
<p>함수형 프로그래밍은 병렬처리와 이벤트 지향 프로그래밍에 적합하며, 딥러닝이나 빅데이터와 더불어 일종의 문법적 트렌드처럼 관심을 받고 있다.</p>
<p>Java에서도 이런 트렌드를 따라갈 필요를 느낀것 같으며, 람다식은 그 문법적 간결성으로 기존의 자바 문법보다 쉽게 함수를 표현할수 있다.</p>
<p>그러나 람다 문법은 기존 java 문법과 확연히 다른 형태를 띠고 있기때문에, 기존 java 개발자는 많은 생소함을 느낄 수도 있다.</p>
<p><strong>람다식은 결국 로컬 익명 구현객체를 생성하게 되지만, 이 람다식의 사용 목적은 인터페이스가 가지고 있는 메소드를 간편하게 즉흥적으로 구현해서 사용하는 것이 목적이다.</strong></p>
<p>만약 한개의 추상메소드를 갖는 인터페이스가 있을때, 이 추상메소드를 구현해서 사용하기 위해서는 다음과 같은 방법이 있을 것이다.</p>
<p><strong>1.인터페이스를 직접 클래스로 구현해서 메소드를 호출</strong></p>
<p><img src="/images/20181116-java-lambda_1.png" alt="인터페이스를 클래스로 구현해서 객체를 생성하여 메소드를 호출"></p>
<p>인터페이스를 구현한 클래스를 재사용할 수 있는 장점이 있지만, 재사용이 필요하지 않는 메소드를 만들어 사용해야 할때도 있을 것이다.<br>그런 것들을 클래스로 구현하게 된다면 불필요한 class 파일이 늘어만 가게 될 것이다.</p>
<p><strong>2.인터페이스를 익명구현객체로 구현해서 메소드를 호출</strong></p>
<p><img src="/images/20181116-java-lambda_2.png" alt="익명구현객체를 이용한 인터페이스 구현"></p>
<p>위 처럼 익명 구현객체를 사용하게 된다면, 불필요한 클래스파일이 생기는 것도 막을 수 있고 프로그래밍 과정도 1번보다는 간결해진다.</p>
<p><strong>3.람다식을 이용해 더 간결하게 인터페이스 구현하기</strong></p>
<p><img src="/images/20181116-java-lambda_3.png" alt="람다식을 이용한 인터페이스 구현"></p>
<p>2번보다 훨씬더 간결하게 인터페이스를 구현할 수 있다.</p>
<hr>
<h1 id="함수적-인터페이스와-람다식-기본-문법"><a href="#함수적-인터페이스와-람다식-기본-문법" class="headerlink" title="함수적 인터페이스와 람다식 기본 문법"></a>함수적 인터페이스와 람다식 기본 문법</h1><p>람다식을 사용하기 위해서는 일단 람다식으로 구현할 인터페이스가 필요하다.</p>
<p>이 인터페이스에는 조건이 하나있는데 한개의 추상메소드만 가지고 있어야 한다는 것이다.</p>
<p><img src="/images/20181116-java-lambda_4.png" alt="이렇게 에러가 난다."></p>
<p>위 예제를 봐서 알겠지만 람다표현식은 인터페이스의 한개의 메소드밖에 구현 할 수 없다.</p>
<p><strong>그리고 이런 람다식으로 구현할 인터페이스르 미리 함수적 인터페이스(@functionalInterface)라고 부른다.</strong></p>
<p>즉 함수구현 전용 인터페이스라고 부르는 것이다.</p>
<p>그리고 @FunctionalInterface 어노테이션으로 이런 함수적 인터페이스를 명시 할수 있다.</p>
<p>@FunctionalInterface인터페이스가 적용된 인터페이스는 한개의 추상메소드만 선언 할수 있게 된다.</p>
<p><img src="/images/20181116-java-lambda_5.png" alt="@FunctionalInterface가 선언된 인터페이스에 추상메소드가 1개가 아니면 에러가 발생한다."></p>
<p>람다식의 기본구조는 다음과 같다. </p>
<p>소괄호에는 구현한 함수의 인자를 그리고 화살표 다음에 중괄호에는 구현 할 함수 몸체를 넣으주면 된다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(타입 매개변수, ...) -&gt; &#123; 실행문; ... &#125;;</span><br></pre></td></tr></table></figure>

<p>하지만 함수를 간편하고 쉽게 표현하기 위해서 람다는 많은 생략 기법을 사용한다.</p>
<ul>
<li><p>람다식 매개인자의 자료형은 생략가능 하다.</p>
</li>
<li><p>람다식의 매개인자가 한개인 경우 매개인자를 감싸는 소괄호를 생락 할 수 있다.</p>
</li>
<li><p>람다식의 함수몸체에 실행문이 한개인 경우 함수의 몸체를 감싸는 중괄호를 생략 할 수 있다.</p>
</li>
<li><p>람다식의 함수몸체에 실행문이 한개이고, 그 실행문이 return문일 경우 함수의 몸체를 감싸는 중괄호와 return을 생략 할 수 있다.</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">InterfaceA1 a1 = (<span class="keyword">int</span> a) -&gt; &#123; System.out.println(<span class="string">"a:"</span> + a); &#125;;</span><br><span class="line">InterfaceA1 a2 = (a) -&gt; &#123; System.out.println(<span class="string">"a:"</span> + a); &#125;;    <span class="comment">// 매개인자 자료형 생략</span></span><br><span class="line"></span><br><span class="line">InteafeceB1 b1 = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; &#123; System.out.println(<span class="string">"a+b:"</span> + (a + b) ); &#125;;</span><br><span class="line">InteafeceB1 b2 = (a, b) -&gt; &#123; System.out.println(<span class="string">"a+b:"</span> + (a + b) ); &#125;;   <span class="comment">// 매개인자 자료형 생략</span></span><br><span class="line"></span><br><span class="line">InterfaceA1 a3 = a -&gt; &#123; System.out.println(<span class="string">"a:"</span> + a); &#125;;    <span class="comment">//매개인자가 하나뿐이라 소괄호 생략</span></span><br><span class="line">InterfaceA1 a4 = a -&gt; System.out.println(<span class="string">"a:"</span> + a);    <span class="comment">//함수의 실행문이 한개라 중괄호를 생략</span></span><br><span class="line"></span><br><span class="line">TestInterface t3 = a -&gt; &#123; <span class="keyword">return</span> <span class="string">"a:"</span> + String.valueOf(a); &#125;;</span><br><span class="line">TestInterface t4 = a -&gt; <span class="string">"a:"</span> + String.valueOf(a);      <span class="comment">// 함수의 실행문이 한개이며, 리턴문만 있을경우 중괄호와 더불어 return문도 생략이 가능하다.</span></span><br><span class="line"></span><br><span class="line">InterfaceA1 a2 = () -&gt; &#123; System.out.println(<span class="string">"인자가 없는 함수 구현"</span>); &#125;;    <span class="comment">// 매개인자 없는 경우에는 빈 소괄호를 사용해야 한다.</span></span><br></pre></td></tr></table></figure>

<p>이부분에 대해서는 개인적인 약간의 불만이 있다.<br>소괄호, 중갈호, return 문생략 까지는 납득이 되지만 람다식 함수인자의 자료형 생략은 과연 옳은 문법인가 라는 것이다.<br>물론 java의 오버로딩에서 처럼 함수는 함수의 인자의 타입과 그 인자들의 개수로 충분이 구분이 가능하다.</p>
<p>하지만 그건 컴파일러가 구분하는 것이고, 사람은 쉽게 구분을 할수 있는가?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TestInterface t4 = (a, b, c) -&gt; a * b - c;</span><br></pre></td></tr></table></figure>

<p>위 람다식으로 구현된 함수를 보고 인자 a,b,c가 어떤 타입인지, 그리고 그 리턴 값이 어떤 타입인 <strong>예측</strong> 할 수 있는가?</p>
<p>코드의 작성자가 아니라면, 저 인터페이스이 몸체를 찾아가서 확인해야 한다.</p>
<p>만약 문법적으로 인자의 자료형 생략을 하지 않았다면 이런 수고는 없었을 것이다.</p>
<p>Javascript The Good Parts의 저자 더글라스 클락포드는 개발자의 실수를 야기시키는 문법은 좋은 문법이 아니라고 했다.</p>
<p>그의 엄격한 jsLint는 너무하다 싶지만, 그의 이런 생각 자체에는 동의한다.</p>
<h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>이번 글에서는 간단히 Java8의 람다의 개념과 기초 사용법을 정리했다.</p>
<p>람다를 아주 후려치자면, Java에서 추상메소드가 하나인 인터페이스(애시당초 기능적으로 단일 함수로 사용할)를 쉽게 구현해서 사용하는 문법 정도라고 봐도 될것 같다.</p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/16/docker-20181116-docker-docker-basic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/16/docker-20181116-docker-docker-basic/" class="post-title-link" itemprop="url">Docker 개념정리</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-16 11:18:21" itemprop="dateCreated datePublished" datetime="2018-11-16T11:18:21+09:00">2018-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/docker/" itemprop="url" rel="index">
                    <span itemprop="name">docker</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>서버관리나 엔지니어일을 해보지 않았지만, 웹 개발자 입장에서도 이 Docker라는건 상당히 흥미로워 보인다.</p>
<p>서버 운용에서의 Docker를 제외하더라도, 프로그래밍 개발할때 공용 개발환경과 같은 환경을 구성하기에 아주 요긴하게 사용될수 있을것 같다.</p>
<p>공부중이라 잘은 모르지만, 조금이라도 공부한 것들을 쉽게 잊지 않기위해 글을 남긴다.</p>
<h1 id="Docker란"><a href="#Docker란" class="headerlink" title="Docker란"></a>Docker란</h1><p><strong>Docker란 어플리케이션 프로세스를 독립적으로 실행시킬 수 있는 리눅스 컨테이너 환경이다.</strong></p>
<p><img src="/images/util/docker-logo.jpg" alt="도커로고"></p>
<p>위 Docker로고에서 저 고래가 Docker = Docker 엔진이고, 고래 등의 컨테이너 하나하나가 하나의 리눅스 컨테이너이다.</p>
<p>Docker가 무엇인지 대략적인 감을 잡으려면 기존의 가상머신 환경과 도커환경을 비교해 보는것이 가장 빠르다.</p>
<p><img src="/images/20181116-docker-docker-basic_1.png" alt="가상머신과 도커의 구조비교"></p>
<p>Docker Engine이 Hypervisor와 Guest OS를 대신한다. 음 아니다. 대신한다고 말하면 안되고 <strong>Hypervisor와 Guest OS가 필요 없게 만들어준다.</strong></p>
<p>기존의 가상화 환경을 예로들어 호스트 OS로 CentOS, 그 위에 GuestOS로 CentOS, 그리고 이 GuestOS에 Tomcat서버를 설치해서 서비스를 한다고 가정해보자.</p>
<p>저 중간의 GuestOS가 있음으로 인해서 장점은 GusetOS이미지로 서비스를 관리 하기때문에 HostOS와 독립적으로 이미지를 관리하여, 운영 및 유지보수에 용이하다는 점이다.</p>
<p>서버의 HostOS를 변경하면 GuestOS이미지를 떠서 백업하고 복구하면 그만인 것이다.</p>
<p>단점은,Guest OS전체를 가상화 해야 하기때문에 HostOS의 리소스를 GuestOS 가상화 구현에 많이 소모한다는 것이다. 그리고 이미지를 이식하기 위해서는 GuestOS가 포함되어 거대해진 용량의 이미지를 사용하게 된다.</p>
<p>Docker는 자바의 JVM과 비슷한 역할을 담당한다.</p>
<p>Docker는 Tomcat(리눅그 컨테이너)이 실행할수 있는 환경을 GuestOS대신 제공한다. 거기다 HostOS와 완벽히 분리된!</p>
<p>Tomcat이 실행하기 위한 커널 리소스 자원(CPU,메모리,디스크 등등)은 Docker가 대신 HostOS의 커널을 공유하여 제공한다.</p>
<p>이런 Docker의 아이디어는 새로운 아이디어가 아니다.<br>LXC(리눅스 컨테이너)라고 해서 이미 기존에 있던 기술이었고, Docker는 이것의 발전된 형태라고 보인다.</p>
<h1 id="Docker의-특징"><a href="#Docker의-특징" class="headerlink" title="Docker의 특징"></a>Docker의 특징</h1><ul>
<li><p>기존의 가상머신과 달리 도커 컨테이너는 성능의 손실이 거의 없어서, 차세대 클라우드 인프라 솔루션으로 주목받고 있다.</p>
</li>
<li><p>Go 언어로 만들어진 오픈소스 프로젝트이다. 기업용 유료 EE버전과 CE 무료버전이 존재한다.</p>
</li>
<li><p>도커의 핵심 프로젝트인 도커 엔진과 더불어 도커 컴포즈(Docker Compose), 레지스트리(Private Registry), 도커머신(Docker Machine), Kitematic등 다양한 부가 프로젝트가 존재한다.</p>
</li>
<li><p>이미지 공용 리파지토리인 Docker hub를 통해 Image를 다운받거나 공유할수 있다.</p>
</li>
<li><p>리눅스 컨테이너 환경이라 리눅스에 최적화 되어있지만, 2018요즘 Windows와 Mac에서도 Docker를 지원한다.</p>
</li>
</ul>
<h1 id="Docker-이미지와-컨테이너"><a href="#Docker-이미지와-컨테이너" class="headerlink" title="Docker 이미지와 컨테이너"></a>Docker 이미지와 컨테이너</h1><p>Docker에서는 서비스를 이미지로 관리한다.</p>
<p>이 이미지란 일종의 설치파일과 같다. Docker에 Ubuntu를 실행하고 싶다면 Ubuntu 이미지를 docker 허브에서 다운 받아오면 된다.</p>
<p>이 이미지에는 실행해야할 서비스관련 파일과 그 서비스가 동작하기 위해서 필요한 라이브리러를 포함하고 있다.</p>
<p>그리고 이 이미지로 컨테이너라는 것을 생성 할수 있다.</p>
<p>이 컨테이너는 이미지로 설치된 실제 동작이 가능한 서비스라고 보면 된다.</p>
<p>이미지로 컨테이너를 생성하면 해당 이미지의 목적에 맞는 파일이 들어 있는 파일시스템과 격리된 시스템 자원 및 네트워크를 사용할 수 있는 독립된 공간이 생성되고, 이것이 바로 도커 컨테이너이다.</p>
<p>컨테이너는 이미지를 읽기 전용으로 사용하되 이미지에서 변경된 사항만 컨테이너 계층에 저장한다.</p>
<p>따라서 컨테이너의 작업은 원본 이미지에게 영향을 주지 않으며, 생성된 각 컨테이너는 각기 독립된 파일시스템을 도커엔진으로부터 제공받아 완벽하게 호스트OS와 분리되게 된다.</p>
<p>도커엔진에 의해 효과적으로 HostOS의 자원을 사용하고, HostOs와 완벽히 격리된 환경에서 컨테이너 단위로 서비스를 실행할수 있기 때문에 서비스의 관리, 확장, 공유, 유지보수등이 용이하다.</p>
<h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>Docker는 개념과 명령어만 알면 아주 쉽고 간편하게 원하는 서비스를 가상화로 돌릴수 있다.<br>그것도 아주 가볍게!<br>정확하지는 않지만 유튜브에서 듣기로는 Host서비스의 거이 98프로 정도의 성능을 낸다고 한다.<br>사실인지는 모르겠지만, 내가 직접 써보니 확실히 체감이 된다.</p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/16/java-20181116-java-for-each/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/16/java-20181116-java-for-each/" class="post-title-link" itemprop="url">java-향상된 for 문(for each)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-16 07:39:35" itemprop="dateCreated datePublished" datetime="2018-11-16T07:39:35+09:00">2018-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>for each 문은 java5 부터 배열 및 컬랙션 등을 쉽게 처리하기 위해 추가된 문법이다.</p>
<p>음 난 왜 생소하지… javascript에서만 보던 건데… 여튼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">String[] numbers = &#123;<span class="string">"one"</span>, <span class="string">"two"</span>, <span class="string">"three"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(String number : numbers)&#123;</span><br><span class="line">  System.out.println(<span class="string">"number:"</span> + number);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>아주 간단하다. 기존의 for문의 <strong>초기값; 조건; 증가감식</strong> 등의 statment 대신 <strong>타입명 인덱스별명 : 배열이나 컬랙션</strong> 형태의 statement를 사용한다.</p>
<p>음 numbers의 타입으로 타입을 컴파일러가 유추할수 있을텐데, 굳이 타입명을 명시하게 하는 것은 조금 의아하다.</p>
<p>여튼 단순히 배열, 컬랙션 등을 순차적으로 돌리고 싶을때 간편하게 사용할 수 있다.</p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

        
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://www.hanumoka.net/2018/11/16/java-20181116-java-break-label/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hanumoka">
      <meta itemprop="description" content="아마추어 개발자의 블로그">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hanumoka, IT Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/11/16/java-20181116-java-break-label/" class="post-title-link" itemprop="url">java - break label:(충접 루프 탈출)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2018-11-16 07:19:33" itemprop="dateCreated datePublished" datetime="2018-11-16T07:19:33+09:00">2018-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-04-16 01:50:11" itemprop="dateModified" datetime="2020-04-16T01:50:11+09:00">2020-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="들어가기"><a href="#들어가기" class="headerlink" title="들어가기"></a>들어가기</h1><p>java의 break문은 가장 가까운 반복문만 종료하고 바깥쪽 반복문은 종료시키지 못한다.</p>
<p>중첩된 반복문을 탈출하기 위해서는 <strong>break 라벨명;</strong> 을 사용 하면된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Outter: <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)&#123;</span><br><span class="line">    System.out.println(<span class="string">"중첩 루푸 동작중 i:"</span> + i + <span class="string">"j:"</span> + j);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">2</span>)&#123;</span><br><span class="line">      <span class="keyword">break</span> Outter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;<span class="comment">// _for</span></span><br><span class="line">&#125;<span class="comment">// _for</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/20181116-java-break-label_1.png" alt="위 코드 실행 결과"></p>
<p>별 내용은 아니지만, 자꾸 문법을 까먹어서 정리한다.</p>

      
      
          
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
      


  
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="이전 페이지"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="다음 페이지"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          흝어보기
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hanumoka</p>
  <div class="site-description" itemprop="description">아마추어 개발자의 블로그</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">198</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">카테고리</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">551</span>
        <span class="site-state-item-name">태그</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hanumoka" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hanumoka" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:amagramer@gmail.com" title="E-Mail → mailto:amagramer@gmail.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    <div>
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <!-- 왼쪽 사이드 광고 -->
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6388187282606796" data-ad-slot="9032012837" data-ad-format="auto" data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
    </div>
    
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hanumoka</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">NexT.Gemini</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
